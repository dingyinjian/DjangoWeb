import{u as U,a as B}from"./post.1764234947110.js";import{d as R,g as q,I as E,k as M,r as a,a4 as P,o as i,a as _,h as l,w as t,y as I,i as m,t as F,b as J,F as z,e as L,a0 as T,N as V,f as W}from"./index.1764234947110.js";const j={class:"system-menu-container"},A={style:{"font-size":"large"}},G={class:"dialog-footer"},Q=R({__name:"editModule",props:{title:{type:String,default:()=>""}},setup(b,{expose:y}){const{proxy:f}=q(),c=E(null),e=M({isShowDialog:!1,loading:!1,ruleForm:{id:0,post_name:"",post_code:"",sort:0,status:"",remark:""},statusOptions:[],deptOptions:[],ruleRules:{post_name:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],post_code:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],sort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]}}),k=s=>{e.ruleForm=JSON.parse(JSON.stringify(s)),e.isShowDialog=!0,e.loading=!1,f.getDicts("sys_yes_no").then(o=>{e.statusOptions=o.data.data})},p=s=>{f.mittBus.emit("onEditPostModule",s),e.isShowDialog=!1},v=()=>{p()},w=()=>{const s=T(c);s&&s.validate(o=>{o&&(e.loading=!0,e.ruleForm.id!=null&&e.ruleForm.id!=0?U(e.ruleForm).then(n=>{V.success("修改成功"),e.loading=!1,p(e.ruleForm)}):B(e.ruleForm).then(n=>{V.success("新增成功"),e.loading=!1,p(e.ruleForm)}))})};return y({openDialog:k}),(s,o)=>{const n=a("el-input"),u=a("el-form-item"),d=a("el-col"),D=a("el-input-number"),S=a("el-radio"),x=a("el-radio-group"),C=a("el-row"),h=a("el-form"),g=a("el-button"),N=a("el-dialog"),O=P("drag");return i(),_("div",j,[l(N,{modelValue:e.isShowDialog,"onUpdate:modelValue":o[5]||(o[5]=r=>e.isShowDialog=r),width:"769px",center:""},{header:t(()=>[I((i(),_("div",A,[m(F(b.title),1)])),[[O,[".system-menu-container .el-dialog",".system-menu-container .el-dialog__header"]]])]),footer:t(()=>[J("span",G,[l(g,{onClick:v},{default:t(()=>o[6]||(o[6]=[m("取 消")])),_:1}),l(g,{type:"primary",onClick:w,loading:e.loading},{default:t(()=>o[7]||(o[7]=[m("编 辑")])),_:1},8,["loading"])])]),default:t(()=>[l(h,{model:e.ruleForm,rules:e.ruleRules,ref_key:"ruleFormRef",ref:c,"label-width":"80px"},{default:t(()=>[l(C,{gutter:35},{default:t(()=>[l(d,{span:24},{default:t(()=>[l(u,{label:"岗位名称",prop:"postName"},{default:t(()=>[l(n,{modelValue:e.ruleForm.post_name,"onUpdate:modelValue":o[0]||(o[0]=r=>e.ruleForm.post_name=r),placeholder:"请输入岗位名称"},null,8,["modelValue"])]),_:1})]),_:1}),l(d,{span:24},{default:t(()=>[l(u,{label:"岗位编码",prop:"postCode"},{default:t(()=>[l(n,{modelValue:e.ruleForm.post_code,"onUpdate:modelValue":o[1]||(o[1]=r=>e.ruleForm.post_code=r),placeholder:"请输入编码名称"},null,8,["modelValue"])]),_:1})]),_:1}),l(d,{span:24},{default:t(()=>[l(u,{label:"岗位顺序",prop:"sort"},{default:t(()=>[l(D,{modelValue:e.ruleForm.sort,"onUpdate:modelValue":o[2]||(o[2]=r=>e.ruleForm.sort=r),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1})]),_:1}),l(d,{span:24},{default:t(()=>[l(u,{label:"岗位状态",prop:"status"},{default:t(()=>[l(x,{modelValue:e.ruleForm.status,"onUpdate:modelValue":o[3]||(o[3]=r=>e.ruleForm.status=r)},{default:t(()=>[(i(!0),_(z,null,L(e.statusOptions,r=>(i(),W(S,{key:r.dict_value,label:r.dict_value},{default:t(()=>[m(F(r.dict_label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(d,{span:24},{default:t(()=>[l(u,{label:"备注",prop:"remark"},{default:t(()=>[l(n,{modelValue:e.ruleForm.remark,"onUpdate:modelValue":o[4]||(o[4]=r=>e.ruleForm.remark=r),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}});export{Q as _};
