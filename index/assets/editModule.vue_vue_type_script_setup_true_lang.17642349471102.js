import{X as f,d as x,g as T,I as U,k as B,r as s,a4 as I,o as d,a as g,h as t,w as r,y as O,i as m,t as V,b as K,F as R,e as E,a0 as M,N as F,f as q}from"./index.1764234947110.js";function j(n){return f({url:"/system/config/list",method:"get",params:n})}function J(n){return f({url:"/system/config",method:"post",data:n})}function L(n){return f({url:"/system/config",method:"put",data:n})}function A(n){return f({url:"/system/config/"+n,method:"delete"})}const z={class:"system-menu-container"},P={style:{"font-size":"large"}},W={class:"dialog-footer"},G=x({__name:"editModule",props:{title:{type:String,default:()=>""}},setup(n,{expose:b}){const{proxy:c}=T(),_=U(null),e=B({isShowDialog:!1,loading:!1,ruleForm:{configId:0,configName:"",configKey:"",configValue:"",configType:"",remark:""},typeOptions:[],ruleRules:{dictName:[{required:!0,message:"配置参数名称不能为空",trigger:"blur"}],dictType:[{required:!0,message:"配置参数类型不能为空",trigger:"blur"}]}}),k=a=>{e.ruleForm=JSON.parse(JSON.stringify(a)),e.isShowDialog=!0,e.loading=!1,c.getDicts("sys_yes_no").then(o=>{e.typeOptions=o.data})},p=a=>{c.mittBus.emit("onEditPostModule",a),e.isShowDialog=!1},h=()=>{p()},v=()=>{const a=M(_);a&&a.validate(o=>{o&&(e.loading=!0,e.ruleForm.configId!=null&&e.ruleForm.configId!=0?L(e.ruleForm).then(i=>{F.success("修改成功"),e.loading=!1,p(e.ruleForm)}):J(e.ruleForm).then(i=>{F.success("新增成功"),e.loading=!1,p(e.ruleForm)}))})};return b({openDialog:k}),(a,o)=>{const i=s("el-input"),u=s("el-form-item"),C=s("el-radio"),D=s("el-radio-group"),N=s("el-form"),y=s("el-button"),w=s("el-dialog"),S=I("drag");return d(),g("div",z,[t(w,{modelValue:e.isShowDialog,"onUpdate:modelValue":o[5]||(o[5]=l=>e.isShowDialog=l),width:"769px",center:""},{header:r(()=>[O((d(),g("div",P,[m(V(n.title),1)])),[[S,[".system-menu-container .el-dialog",".system-menu-container .el-dialog__header"]]])]),footer:r(()=>[K("span",W,[t(y,{onClick:h},{default:r(()=>o[6]||(o[6]=[m("取 消")])),_:1}),t(y,{type:"primary",onClick:v,loading:e.loading},{default:r(()=>o[7]||(o[7]=[m("编 辑")])),_:1},8,["loading"])])]),default:r(()=>[t(N,{model:e.ruleForm,rules:e.ruleRules,ref_key:"ruleFormRef",ref:_,"label-width":"80px"},{default:r(()=>[t(u,{label:"参数名称",prop:"configName"},{default:r(()=>[t(i,{modelValue:e.ruleForm.configName,"onUpdate:modelValue":o[0]||(o[0]=l=>e.ruleForm.configName=l),placeholder:"请输入参数名称"},null,8,["modelValue"])]),_:1}),t(u,{label:"参数键名",prop:"configKey"},{default:r(()=>[t(i,{modelValue:e.ruleForm.configKey,"onUpdate:modelValue":o[1]||(o[1]=l=>e.ruleForm.configKey=l),placeholder:"请输入参数键名"},null,8,["modelValue"])]),_:1}),t(u,{label:"参数键值",prop:"configValue"},{default:r(()=>[t(i,{modelValue:e.ruleForm.configValue,"onUpdate:modelValue":o[2]||(o[2]=l=>e.ruleForm.configValue=l),placeholder:"请输入参数键值"},null,8,["modelValue"])]),_:1}),t(u,{label:"系统内置",prop:"configType"},{default:r(()=>[t(D,{modelValue:e.ruleForm.configType,"onUpdate:modelValue":o[3]||(o[3]=l=>e.ruleForm.configType=l)},{default:r(()=>[(d(!0),g(R,null,E(e.typeOptions,l=>(d(),q(C,{key:l.dictValue,label:l.dictValue},{default:r(()=>[m(V(l.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(u,{label:"备注",prop:"remark"},{default:r(()=>[t(i,{modelValue:e.ruleForm.remark,"onUpdate:modelValue":o[4]||(o[4]=l=>e.ruleForm.remark=l),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}});export{G as _,A as d,j as l};
