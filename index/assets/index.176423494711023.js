import{d as R,g as T,I as Q,k as K,l as L,m as $,Q as j,r as s,a4 as P,o as d,a as q,h as t,w as o,a5 as A,F as G,e as H,i as u,b as c,y as _,f as y,t as h,a0 as J,aa as W,z as X,O as Y,N as Z,_ as ee}from"./index.1764234947110.js";import{E as te,l as ae,d as le}from"./editModule.17642349471108.js";const oe={class:"app-container"},ne={class:"card-header"},se=R({__name:"index",setup(re){const{proxy:g}=T(),v=Q(),e=K({loading:!0,title:"",total:0,tableData:[],statusOptions:[],queryParams:{search:void 0,category:void 0,status:void 0,pageSize:10,page:1}}),r=()=>{e.loading=!0,ae(e.queryParams).then(n=>{e.tableData=n.data.data,e.total=n.data.count,e.loading=!1})},k=()=>{e.queryParams.search=void 0,e.queryParams.category=void 0,e.queryParams.status=void 0,r()},E=n=>g.selectDictLabel(e.statusOptions,n.status),C=()=>{e.title="添加示例",v.value.openDialog({})},D=n=>{e.title="修改示例",v.value.openDialog(n)},V=n=>{Y({message:'是否确认删除标题为"'+n.title+'"的数据项?',title:"警告",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return le(n.id).then(()=>{r(),Z.success("删除成功")})})};return L(()=>[e.queryParams.page,e.queryParams.pageSize],()=>{r()}),$(()=>{r(),g.getDicts("sys_yes_no").then(n=>{e.statusOptions=n.data.data}),g.mittBus.on("onEditExampleModule",n=>{r()})}),j(()=>{g.mittBus.off("onEditExampleModule")}),(n,a)=>{const x=s("el-input"),f=s("el-form-item"),S=s("el-option"),z=s("el-select"),p=s("SvgIcon"),m=s("el-button"),B=s("el-form"),w=s("el-card"),i=s("el-table-column"),M=s("el-tag"),O=s("el-table"),U=s("el-divider"),F=s("el-pagination"),b=P("auth"),I=P("loading");return d(),q("div",oe,[t(w,{shadow:"always"},{default:o(()=>[t(B,{model:e.queryParams,ref:"queryForm",inline:!0,"label-width":"68px"},{default:o(()=>[t(f,{label:"标题",prop:"title"},{default:o(()=>[t(x,{placeholder:"请输入标题模糊查询",clearable:"",onKeyup:A(r,["enter","native"]),modelValue:e.queryParams.search,"onUpdate:modelValue":a[0]||(a[0]=l=>e.queryParams.search=l)},null,8,["modelValue"])]),_:1}),t(f,{label:"分类",prop:"category"},{default:o(()=>[t(x,{placeholder:"请输入分类",clearable:"",modelValue:e.queryParams.category,"onUpdate:modelValue":a[1]||(a[1]=l=>e.queryParams.category=l)},null,8,["modelValue"])]),_:1}),t(f,{label:"状态",prop:"status"},{default:o(()=>[t(z,{modelValue:e.queryParams.status,"onUpdate:modelValue":a[2]||(a[2]=l=>e.queryParams.status=l),placeholder:"状态",clearable:"",style:{width:"180px"}},{default:o(()=>[(d(!0),q(G,null,H(e.statusOptions,l=>(d(),y(S,{key:l.dict_value,label:l.dict_label,value:l.dict_value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(f,null,{default:o(()=>[t(m,{type:"primary",plain:"",onClick:r},{default:o(()=>[t(p,{name:"elementSearch"}),a[5]||(a[5]=u(" 搜索 "))]),_:1}),t(m,{onClick:k},{default:o(()=>[t(p,{name:"elementRefresh"}),a[6]||(a[6]=u(" 重置 "))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(w,{class:"box-card"},{header:o(()=>[c("div",ne,[a[8]||(a[8]=c("span",{class:"card-header-text"},"示例列表",-1)),c("div",null,[_((d(),y(m,{type:"primary",plain:"",onClick:C},{default:o(()=>[t(p,{name:"elementPlus"}),a[7]||(a[7]=u(" 新增 "))]),_:1})),[[b,"system:example:add"]])])])]),default:o(()=>[_((d(),y(O,{data:e.tableData,border:""},{default:o(()=>[t(i,{prop:"title",label:"标题",width:"200"}),t(i,{prop:"content",label:"内容","show-overflow-tooltip":""}),t(i,{prop:"category",label:"分类",width:"120"}),t(i,{prop:"status",label:"状态",width:"100"},{default:o(l=>[t(M,{type:l.row.status==="1"?"danger":"success","disable-transitions":""},{default:o(()=>[u(h(E(l.row)),1)]),_:2},1032,["type"])]),_:1}),t(i,{prop:"create_datetime",label:"创建时间",width:"180"},{default:o(l=>[c("span",null,h(J(W)(l.row.create_datetime)),1)]),_:1}),t(i,{label:"操作",align:"center","class-name":"small-padding fixed-width",fixed:"right",width:"180"},{default:o(l=>[_((d(),y(m,{text:"",type:"primary",onClick:N=>D(l.row)},{default:o(()=>[t(p,{name:"elementEdit"}),a[9]||(a[9]=u(" 修改 "))]),_:2},1032,["onClick"])),[[b,"system:example:edit"]]),_((d(),y(m,{text:"",type:"primary",onClick:N=>V(l.row)},{default:o(()=>[t(p,{name:"elementDelete"}),a[10]||(a[10]=u(" 删除 "))]),_:2},1032,["onClick"])),[[b,"system:example:delete"]])]),_:1})]),_:1},8,["data"])),[[I,e.loading]]),_(c("div",null,[t(U),t(F,{background:"",total:e.total,"page-sizes":[10,20,30],"current-page":e.queryParams.page,"onUpdate:currentPage":a[3]||(a[3]=l=>e.queryParams.page=l),"page-size":e.queryParams.pageSize,"onUpdate:pageSize":a[4]||(a[4]=l=>e.queryParams.pageSize=l),layout:"total, sizes, prev, pager, next, jumper"},null,8,["total","current-page","page-size"])],512),[[X,e.total>0]])]),_:1}),t(te,{ref_key:"editModuleRef",ref:v,title:e.title},null,8,["title"])])}}});const ue=ee(se,[["__scopeId","data-v-4814dec4"]]);export{ue as default};
