import{u as k,a as C}from"./type.1764234947110.js";import{g as S,I as v,k as w,p as h,a0 as N,N as _,_ as E,r as s,a4 as O,o as m,a as c,h as a,w as r,y as R,i as p,t as F,b as U,F as L,e as M,f as T}from"./index.1764234947110.js";const q={name:"editMenu",props:{title:{type:String,default:()=>""}},setup(){const{proxy:o}=S(),e=v(null),l=w({isShowDialog:!1,loading:!1,ruleForm:{id:0,dict_name:"",dict_type:"",status:"",remark:""},statusOptions:[{dictValue:"0",dictLabel:"正常"},{dictValue:"1",dictLabel:"禁用"}],deptOptions:[],ruleRules:{dict_name:[{required:!0,message:"字典名称不能为空",trigger:"blur"}],dict_type:[{required:!0,message:"字典类型不能为空",trigger:"blur"}]}}),i=u=>{l.ruleForm=JSON.parse(JSON.stringify(u)),l.isShowDialog=!0,l.loading=!1},n=u=>{o.mittBus.emit("onEditPostModule",u),l.isShowDialog=!1};return{ruleFormRef:e,openDialog:i,closeDialog:n,onCancel:()=>{n()},onSubmit:()=>{const u=N(e);u&&u.validate(f=>{f&&(l.loading=!0,l.ruleForm.id!=null&&l.ruleForm.id!=0?k(l.ruleForm).then(()=>{_.success("修改成功"),l.loading=!1,n(l.ruleForm)}):C(l.ruleForm).then(()=>{_.success("新增成功"),l.loading=!1,n(l.ruleForm)}))})},...h(l)}}},I={class:"system-menu-container"},J={style:{"font-size":"large"}},z={class:"dialog-footer"};function P(o,e,l,i,n,V){const d=s("el-input"),u=s("el-form-item"),f=s("el-radio"),y=s("el-radio-group"),B=s("el-form"),g=s("el-button"),b=s("el-dialog"),D=O("drag");return m(),c("div",I,[a(b,{modelValue:o.isShowDialog,"onUpdate:modelValue":e[4]||(e[4]=t=>o.isShowDialog=t),width:"769px",center:""},{header:r(()=>[R((m(),c("div",J,[p(F(l.title),1)])),[[D,[".system-menu-container .el-dialog",".system-menu-container .el-dialog__header"]]])]),footer:r(()=>[U("span",z,[a(g,{onClick:i.onCancel},{default:r(()=>e[5]||(e[5]=[p("取 消")])),_:1},8,["onClick"]),a(g,{type:"primary",onClick:i.onSubmit,loading:o.loading},{default:r(()=>e[6]||(e[6]=[p("编 辑")])),_:1},8,["onClick","loading"])])]),default:r(()=>[a(B,{model:o.ruleForm,rules:o.ruleRules,ref:"ruleFormRef","label-width":"80px"},{default:r(()=>[a(u,{label:"字典名称",prop:"dict_name"},{default:r(()=>[a(d,{modelValue:o.ruleForm.dict_name,"onUpdate:modelValue":e[0]||(e[0]=t=>o.ruleForm.dict_name=t),placeholder:"请输入字典名称"},null,8,["modelValue"])]),_:1}),a(u,{label:"字典类型",prop:"dict_type"},{default:r(()=>[a(d,{modelValue:o.ruleForm.dict_type,"onUpdate:modelValue":e[1]||(e[1]=t=>o.ruleForm.dict_type=t),placeholder:"请输入字典类型"},null,8,["modelValue"])]),_:1}),a(u,{label:"状态",prop:"status"},{default:r(()=>[a(y,{modelValue:o.ruleForm.status,"onUpdate:modelValue":e[2]||(e[2]=t=>o.ruleForm.status=t)},{default:r(()=>[(m(!0),c(L,null,M(o.statusOptions,t=>(m(),T(f,{key:t.dictValue,label:t.dictValue},{default:r(()=>[p(F(t.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(u,{label:"备注",prop:"remark"},{default:r(()=>[a(d,{modelValue:o.ruleForm.remark,"onUpdate:modelValue":e[3]||(e[3]=t=>o.ruleForm.remark=t),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}const j=E(q,[["render",P]]);export{j as default};
