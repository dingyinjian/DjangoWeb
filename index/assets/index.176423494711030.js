import{X as b,d as w,k as h,m as D,Q as I,r,a4 as V,y as i,o as _,f as v,w as o,h as n,b as a,B as z,t as x,z as y,N as B}from"./index.1764234947110.js";import L from"./statusCard.1764234947110.js";function M(){return b({url:"/tool/monitor/get-system-info/",method:"get"})}const S={style:{"margin-left":"20px"}},T=w({__name:"index",setup(G){const e=h({showLoading:!1,iconClass:"",monitorData:{cpu:[0,0,[0,0,0,0],"",0,1],disk:[{path:"",size:["0GB","0GB","0GB",0],inodes:!1}],is_windows:!0,load_average:{one:0,five:0,fifteen:0,max:0,limit:0,safe:0,percent:0},mem:{percent:0,total:0,free:0,used:0},system:"",time:"0天",network:{up:0,down:0,downTotal:0,upTotal:0,network:{}}},refreshInterval:3,timer:null}),l=()=>{M().then(s=>{if(s.code==200){e.monitorData=s.data;let t=s.data.system.split(" ")[0].toLowerCase();e.iconClass="ico-"+t}else B.error("获取服务信息失败")})},k=()=>{e.timer=setInterval(()=>{l()},e.refreshInterval*1e3)},c=()=>{m(),k()},m=()=>{clearInterval(e.timer),e.timer=null};return D(()=>{l()}),I(()=>{m()}),(s,t)=>{const C=r("el-input-number"),d=r("el-button"),p=r("el-card"),f=r("el-scrollbar"),g=V("loading");return i((_(),v(f,{"element-loading-text":"Loading...","element-loading-background":"rgba(122, 122, 122, 0.9)"},{default:o(()=>[i((_(),v(f,{"element-loading-text":"Loading...","element-loading-background":"rgba(122, 122, 122, 0.9)"},{default:o(()=>[n(p,{class:"box-card"},{default:o(()=>[a("span",{class:z(e.iconClass)},"系统：",2),a("span",null,x(e.monitorData.system),1),a("span",S,"已不间断运行: "+x(e.monitorData.time),1),t[3]||(t[3]=a("span",{style:{"margin-left":"20px"}},"自动刷新(秒)：",-1)),n(C,{modelValue:e.refreshInterval,"onUpdate:modelValue":t[0]||(t[0]=u=>e.refreshInterval=u),size:"small",min:3,onChange:c},null,8,["modelValue"]),i(n(d,{style:{"margin-left":"20px"},type:"primary",text:!0,link:"",onClick:l},{default:o(()=>[a("span",{style:{"font-size":"13px"},onClick:m},"停止")]),_:1},512),[[y,e.timer]]),i(n(d,{style:{"margin-left":"20px"},type:"primary",text:!0,link:"",onClick:l},{default:o(()=>[a("span",{style:{"font-size":"13px"},onClick:c},"开始")]),_:1},512),[[y,!e.timer]]),n(d,{type:"primary",text:!0,link:"",onClick:l},{default:o(()=>t[2]||(t[2]=[a("span",{style:{"font-size":"13px"}},"手动刷新",-1)])),_:1})]),_:1}),n(p,{class:"box-card"},{default:o(()=>[n(L,{modelValue:e.monitorData,"onUpdate:modelValue":t[1]||(t[1]=u=>e.monitorData=u)},null,8,["modelValue"])]),_:1}),n(p,{class:"box-card"})]),_:1})),[[g,e.showLoading]])]),_:1})),[[g,e.showLoading]])}}});export{T as default};
