import{g as pe,u as ee,c as O,_ as X,o as w,a as $,b as F,t as B,d as tt,r as _,e as Oe,F as ae,f as V,w as S,h as v,i as J,j as Pe,k as de,l as Ye,m as Ie,n as nt,p as fe,q as Sn,s as ht,v as ft,x as pt,y as Ot,z as Pt,A as j,B as se,C as En,D as ot,T as Yn,E as Xn,G as mt,H as qe,I as De,J as Tn,K as Ze,L as jn,M as Te,N as Dn,O as Un,S as Ge,P as Ln,Q as gt,R as Gn,U as Qn,V as Wt,W as dn}from"./index.1764234947110.js";import{l as Kn}from"./notice.1764234947110.js";import Zn from"./parent.1764234947110.js";const Jn="/assets/logo.1764234947110.png",eo={name:"layoutLogo",setup(){const{proxy:t}=pe(),e=ee(),o=O(()=>e.themeConfig),n=O(()=>{let{isCollapse:r,layout:s}=e.themeConfig;return!r||s==="classic"||document.body.clientWidth<1e3});return{logo:Jn,setShowLogo:n,getThemeConfig:o,onThemeConfigChange:()=>{if(e.themeConfig.layout==="transverse")return!1;t.mittBus.emit("onMenuClick"),e.themeConfig.isCollapse=!e.themeConfig.isCollapse}}}};const to=["src"],no=["src"];function oo(t,e,o,n,i,r){return n.setShowLogo?(w(),$("div",{key:0,class:"layout-logo",onClick:e[0]||(e[0]=(...s)=>n.onThemeConfigChange&&n.onThemeConfigChange(...s))},[F("img",{src:n.logo,class:"layout-logo-medium-img"},null,8,to),F("span",null,B(n.getThemeConfig.globalViceTitle),1)])):(w(),$("div",{key:1,class:"layout-logo-size",onClick:e[1]||(e[1]=(...s)=>n.onThemeConfigChange&&n.onThemeConfigChange(...s))},[F("img",{src:n.logo,class:"layout-logo-size-img"},null,8,no)]))}const kn=X(eo,[["render",oo],["__scopeId","data-v-3694c2d7"]]),io=tt({name:"navMenuSubItem",props:{chil:{type:Array,default:()=>[]}},setup(t){return{chils:O(()=>t.chil)}}}),so=["href"];function ao(t,e,o,n,i,r){const s=_("SvgIcon"),l=_("sub-item",!0),c=_("el-sub-menu"),a=_("el-menu-item");return w(!0),$(ae,null,Oe(t.chils,d=>(w(),$(ae,null,[d.children&&d.children.length>0?(w(),V(c,{index:d.path,key:d.path},{title:S(()=>[v(s,{name:d.meta.icon},null,8,["name"]),F("span",null,B(t.$t(d.meta.title)),1)]),default:S(()=>[v(l,{chil:d.children},null,8,["chil"])]),_:2},1032,["index"])):(w(),V(a,{index:d.path,key:d.path},{default:S(()=>[!d.meta.isLink||d.meta.isLink&&d.meta.isIframe?(w(),$(ae,{key:0},[v(s,{name:d.meta.icon},null,8,["name"]),F("span",null,B(t.$t(d.meta.title)),1)],64)):(w(),$("a",{key:1,href:d.meta.isLink,target:"_blank",rel:"opener"},[v(s,{name:d.meta.icon},null,8,["name"]),J(" "+B(t.$t(d.meta.title)),1)],8,so))]),_:2},1032,["index"]))],64))),256)}const xn=X(io,[["render",ao]]),ro=tt({name:"navMenuVertical",components:{SubItem:xn},props:{menuList:{type:Array,default:()=>[]}},setup(t){const{proxy:e}=pe(),o=ee(),n=Pe(),i=de({defaultActive:n.meta.isDynamic?n.meta.isDynamicPath:n.path,isCollapse:!1}),r=O(()=>t.menuList),s=O(()=>o.themeConfig),l=c=>{const{path:a,meta:d}=c,u=d.isDynamic?d.isDynamicPath.split("/"):a.split("/");return u.length>=4&&d.isHide?u.splice(0,3).join("/"):a};return Ye(o.themeConfig,()=>{document.body.clientWidth<=1e3?i.isCollapse=!1:i.isCollapse=s.value.isCollapse},{immediate:!0}),Ie(()=>{i.defaultActive=l(n)}),nt(c=>{i.defaultActive=l(c),e.mittBus.emit("onMenuClick"),document.body.clientWidth<1e3&&(s.value.isCollapse=!1)}),{menuLists:r,getThemeConfig:s,...fe(i)}}}),lo=["href"];function co(t,e,o,n,i,r){const s=_("SvgIcon"),l=_("SubItem"),c=_("el-sub-menu"),a=_("el-menu-item"),d=_("el-menu");return w(),V(d,{router:"","default-active":t.defaultActive,"background-color":"transparent",collapse:t.isCollapse,"unique-opened":t.getThemeConfig.isUniqueOpened,"collapse-transition":!1},{default:S(()=>[(w(!0),$(ae,null,Oe(t.menuLists,u=>(w(),$(ae,null,[u.children&&u.children.length>0?(w(),V(c,{index:u.path,key:u.path},{title:S(()=>[v(s,{name:u.meta.icon},null,8,["name"]),F("span",null,B(t.$t(u.meta.title)),1)]),default:S(()=>[v(l,{chil:u.children},null,8,["chil"])]),_:2},1032,["index"])):(w(),V(a,{index:u.path,key:u.path},Sn({default:S(()=>[v(s,{name:u.meta.icon},null,8,["name"])]),_:2},[!u.meta.isLink||u.meta.isLink&&u.meta.isIframe?{name:"title",fn:S(()=>[F("span",null,B(t.$t(u.meta.title)),1)]),key:"0"}:{name:"title",fn:S(()=>[F("a",{href:u.meta.isLink,target:"_blank",rel:"opener"},B(t.$t(u.meta.title)),9,lo)]),key:"1"}]),1032,["index"]))],64))),256))]),_:1},8,["default-active","collapse","unique-opened"])}const uo=X(ro,[["render",co]]),fo={name:"layoutAside",components:{Logo:kn,Vertical:uo},setup(){const{proxy:t}=pe(),e=ee(),o=ht(),n=ft(),i=de({menuList:[],clientWidth:""}),r=O(()=>e.themeConfig),s=O(()=>n.isTagsViewCurrenFull),l=O(()=>{const{layout:m,isCollapse:b,menuBar:x}=e.themeConfig,P=x==="#FFFFFF"||x==="#FFF"||x==="#fff"||x==="#ffffff"?"layout-el-aside-br-color":"";if(i.clientWidth<=1e3)if(b){document.body.setAttribute("class","el-popup-parent--hidden");const I=document.querySelector(".layout-container"),D=document.createElement("div");return D.setAttribute("class","layout-aside-mobile-mode"),I.appendChild(D),D.addEventListener("click",c),[P,"layout-aside-mobile","layout-aside-mobile-open"]}else return c(),[P,"layout-aside-mobile","layout-aside-mobile-close"];else return m==="columns"?b?[P,"layout-aside-pc-1"]:[P,"layout-aside-pc-220"]:b?[P,"layout-aside-pc-64"]:[P,"layout-aside-pc-220"]}),c=()=>{var x;const m=document.querySelector(".layout-aside-mobile-mode");m&&((x=m.parentNode)==null||x.removeChild(m)),document.body.clientWidth<1e3&&(e.themeConfig.isCollapse=!1),document.body.setAttribute("class","")},a=O(()=>{let{layout:m,isShowLogo:b}=e.themeConfig;return b&&m==="defaults"||b&&m==="columns"}),d=()=>{if(e.themeConfig.layout==="columns")return!1;i.menuList=u(o.routesList)},u=m=>m.filter(b=>!b.meta.isHide).map(b=>(b=Object.assign({},b),b.children&&(b.children=u(b.children)),b)),p=m=>{i.clientWidth=m},f=m=>{let{layout:b}=e.themeConfig;if(b!=="columns")return!1;m||t.mittBus.emit("restoreDefault"),o.setColumnsMenuHover(m)};return Ye(e.themeConfig,m=>{if(m.isShowLogoChange!==m.isShowLogo){if(!t.$refs.layoutAsideScrollbarRef)return!1;t.$refs.layoutAsideScrollbarRef.update()}}),e.$subscribe((m,b)=>{let{layout:x,isClassicSplitMenu:P}=b.themeConfig;if(x==="classic"&&P)return!1;d()}),pt(()=>{p(document.body.clientWidth),d(),t.mittBus.on("setSendColumnsChildren",m=>{i.menuList=m.children}),t.mittBus.on("setSendClassicChildren",m=>{let{layout:b,isClassicSplitMenu:x}=e.themeConfig;b==="classic"&&x&&(i.menuList=[],i.menuList=m.children)}),t.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{d()}),t.mittBus.on("layoutMobileResize",m=>{p(m.clientWidth),c()})}),{setCollapseStyle:l,setShowLogo:a,getThemeConfig:r,isTagsViewCurrenFull:s,onAsideEnterLeave:f,...fe(i)}}},mo={class:"h100"};function ho(t,e,o,n,i,r){const s=_("Logo"),l=_("Vertical"),c=_("el-scrollbar"),a=_("el-aside");return Ot((w(),$("div",mo,[v(a,{class:se(["layout-aside",n.setCollapseStyle])},{default:S(()=>[n.setShowLogo?(w(),V(s,{key:0})):j("",!0),v(c,{class:"flex-auto",ref:"layoutAsideScrollbarRef",onMouseenter:e[0]||(e[0]=d=>n.onAsideEnterLeave(!0)),onMouseleave:e[1]||(e[1]=d=>n.onAsideEnterLeave(!1))},{default:S(()=>[v(l,{menuList:t.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[Pt,!n.isTagsViewCurrenFull]])}const on=X(fo,[["render",ho]]),po={inheritAttrs:!1,name:"layoutBreadcrumb",setup(){const{proxy:t}=pe(),e=Pe(),o=ee(),n=ht(),{routesList:i}=En(n),r=ot(),s=de({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),l=O(()=>o.themeConfig),c=O(()=>{p(e.path);const{layout:f,isBreadcrumb:m}=o.themeConfig;return f==="classic"||f==="transverse"?"none":m?"":"none"}),a=f=>{const{redirect:m,path:b}=f;m?r.push(m):r.push(b)},d=()=>{t.mittBus.emit("onMenuClick"),o.themeConfig.isCollapse=!o.themeConfig.isCollapse},u=f=>{f.map(m=>{s.routeSplit.map((b,x,P)=>{s.routeSplitFirst===m.path&&(s.routeSplitFirst+=`/${P[s.routeSplitIndex]}`,s.breadcrumbList.push(m),s.routeSplitIndex++,m.children&&u(m.children))})})},p=f=>{if(!o.themeConfig.isBreadcrumb)return!1;s.breadcrumbList=[i.value[0]],s.routeSplit=f.split("/"),s.routeSplit.shift(),s.routeSplitFirst=`/${s.routeSplit[0]}`,s.routeSplitIndex=1,u(i.value)};return Ie(()=>{p(e.path)}),nt(f=>{p(f.path)}),{onThemeConfigChange:d,isShowBreadcrumb:c,getThemeConfig:l,onBreadcrumbClick:a,...fe(s)}}};const go={key:0,class:"layout-navbars-breadcrumb-span"},_o=["onClick"];function bo(t,e,o,n,i,r){const s=_("SvgIcon"),l=_("el-breadcrumb-item"),c=_("el-breadcrumb");return w(),$("div",{class:"layout-navbars-breadcrumb",style:mt({display:n.isShowBreadcrumb})},[v(s,{class:"layout-navbars-breadcrumb-icon",name:n.getThemeConfig.isCollapse?"elementExpand":"elementFold",onClick:n.onThemeConfigChange},null,8,["name","onClick"]),v(c,{class:"layout-navbars-breadcrumb-hide"},{default:S(()=>[v(Yn,Xn({name:"breadcrumb"},t.$attrs),{default:S(()=>[(w(!0),$(ae,null,Oe(t.breadcrumbList,(a,d)=>(w(),V(l,{key:a.meta.title},{default:S(()=>[d===t.breadcrumbList.length-1?(w(),$("span",go,[n.getThemeConfig.isBreadcrumbIcon?(w(),V(s,{key:0,name:a.meta.icon,size:16,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):j("",!0),J(B(t.$t(a.meta.title)),1)])):(w(),$("a",{key:1,onClick:qe(u=>n.onBreadcrumbClick(a),["prevent"])},[n.getThemeConfig.isBreadcrumbIcon?(w(),V(s,{key:0,name:a.meta.icon,size:16,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):j("",!0),J(B(t.$t(a.meta.title)),1)],8,_o))]),_:2},1024))),128))]),_:1},16)]),_:1})],4)}const yo=X(po,[["render",bo],["__scopeId","data-v-e11c328f"]]),fn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Le=(()=>{if(typeof document>"u")return!1;const t=fn[0],e={};for(const o of fn)if((o==null?void 0:o[1])in document){for(const[i,r]of o.entries())e[t[i]]=r;return e}return!1})(),mn={change:Le.fullscreenchange,error:Le.fullscreenerror};let ue={request(t=document.documentElement,e){return new Promise((o,n)=>{const i=()=>{ue.off("change",i),o()};ue.on("change",i);const r=t[Le.requestFullscreen](e);r instanceof Promise&&r.then(i).catch(n)})},exit(){return new Promise((t,e)=>{if(!ue.isFullscreen){t();return}const o=()=>{ue.off("change",o),t()};ue.on("change",o);const n=document[Le.exitFullscreen]();n instanceof Promise&&n.then(o).catch(e)})},toggle(t,e){return ue.isFullscreen?ue.exit():ue.request(t,e)},onchange(t){ue.on("change",t)},onerror(t){ue.on("error",t)},on(t,e){const o=mn[t];o&&document.addEventListener(o,e,!1)},off(t,e){const o=mn[t];o&&document.removeEventListener(o,e,!1)},raw:Le};Object.defineProperties(ue,{isFullscreen:{get:()=>!!document[Le.fullscreenElement]},element:{enumerable:!0,get:()=>document[Le.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[Le.fullscreenEnabled]}});Le||(ue={isEnabled:!1});const Ct=ue,vo={name:"layoutBreadcrumbUserNews",setup(){const t=ot(),e=de({newsList:[]}),o=()=>{Kn({pageNum:1,pageSize:3}).then(r=>{e.newsList=r.data.data})},n=()=>{e.newsList=[]},i=()=>{t.push("/system/message-center")};return Ie(()=>{o()}),{onAllReadClick:n,onGoToGiteeClick:i,...fe(e)}}};const wo={class:"layout-navbars-breadcrumb-user-news"},Co={class:"head-box"},So={class:"head-box-title"},Eo={class:"content-box"},To={class:"content-box-time"};function Do(t,e,o,n,i,r){const s=_("el-empty");return w(),$("div",wo,[F("div",Co,[F("div",So,B(t.$t("message.user.newTitle")),1),t.newsList.length>0?(w(),$("div",{key:0,class:"head-box-btn",onClick:e[0]||(e[0]=(...l)=>n.onAllReadClick&&n.onAllReadClick(...l))},B(t.$t("message.user.newBtn")),1)):j("",!0)]),F("div",Eo,[t.newsList.length>0?(w(!0),$(ae,{key:0},Oe(t.newsList,(l,c)=>(w(),$("div",{class:"content-box-item",key:c},[F("div",null,B(l.title),1),F("div",To,"发布时间："+B(t.dateStrFormat(l.create_datetime)),1)]))),128)):(w(),V(s,{key:1,description:t.$t("message.user.newDesc")},null,8,["description"]))]),t.newsList.length>0?(w(),$("div",{key:0,class:"foot-box",onClick:e[1]||(e[1]=(...l)=>n.onGoToGiteeClick&&n.onGoToGiteeClick(...l))},B(t.$t("message.user.newGo")),1)):j("",!0)])}const Lo=X(vo,[["render",Do],["__scopeId","data-v-a4074e35"]]),ko=tt({name:"layoutBreadcrumbSearch",setup(){const t=ft(),{tagsViewRoutes:e}=En(t),o=De(),{t:n}=Tn.useI18n(),i=ot(),r=de({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),s=()=>{r.menuQuery="",r.isShowSearch=!0,d(),Ze(()=>{setTimeout(()=>{o.value.focus()})})},l=()=>{r.isShowSearch=!1},c=(f,m)=>{let b=f?r.tagsViewList.filter(a(f)):r.tagsViewList;m(b)},a=f=>m=>m.path.toLowerCase().indexOf(f.toLowerCase())>-1||m.meta.title.toLowerCase().indexOf(f.toLowerCase())>-1||n(m.meta.title).indexOf(f.toLowerCase())>-1,d=()=>{if(r.tagsViewList.length>0)return!1;e.value.map(f=>{f.meta.isHide||r.tagsViewList.push({...f})})};return{layoutMenuAutocompleteRef:o,openSearch:s,closeSearch:l,menuSearch:c,onHandleSelect:f=>{let{path:m,redirect:b,children:x}=f;f.meta.isLink&&!f.meta.isIframe?window.open(f.meta.isLink):b?i.push(b):x?i.push(x[0]):i.push(m),l()},onSearchBlur:()=>{l()},...fe(r)}}});const xo={class:"layout-search-dialog"};function Io(t,e,o,n,i,r){const s=_("elementSearch"),l=_("el-icon"),c=_("SvgIcon"),a=_("el-autocomplete"),d=_("el-dialog");return w(),$("div",xo,[v(d,{modelValue:t.isShowSearch,"onUpdate:modelValue":e[1]||(e[1]=u=>t.isShowSearch=u),"destroy-on-close":"","show-close":!1},{footer:S(()=>[v(a,{modelValue:t.menuQuery,"onUpdate:modelValue":e[0]||(e[0]=u=>t.menuQuery=u),"fetch-suggestions":t.menuSearch,placeholder:t.$t("message.user.searchPlaceholder"),ref:"layoutMenuAutocompleteRef",onSelect:t.onHandleSelect,"fit-input-width":!0},{prefix:S(()=>[v(l,{class:"el-input__icon"},{default:S(()=>[v(s)]),_:1})]),default:S(({item:u})=>[F("div",null,[v(c,{name:u.meta.icon,class:"mr5"},null,8,["name"]),J(" "+B(t.$t(u.meta.title)),1)])]),_:1},8,["modelValue","fetch-suggestions","placeholder","onSelect"])]),_:1},8,["modelValue"])])}const Ao=X(ko,[["render",Io],["__scopeId","data-v-65645a50"]]),$o={name:"layoutBreadcrumbUser",components:{UserNews:Lo,Search:Ao},setup(){const{t}=Tn.useI18n(),{proxy:e}=pe(),o=ot(),n=ee(),i=jn(),r=De(),s=de({isScreenfull:!1,isShowUserNewsPopover:!1,disabledI18n:"zh-cn"}),l=O(()=>i.userInfos),c=O(()=>n.themeConfig),a=O(()=>{let{layout:I,isClassicSplitMenu:D}=c.value,T=0;return I==="defaults"||I==="classic"&&!D||I==="columns"?T=1:T=0,T}),d=()=>{if(!Ct.isEnabled)return Dn.warning("暂不不支持全屏"),!1;Ct.toggle(),Ct.on("change",()=>{Ct.isFullscreen?s.isScreenfull=!0:s.isScreenfull=!1})},u=I=>{I==="logOut"?Un({closeOnClickModal:!1,closeOnPressEscape:!1,title:t("message.user.logOutTitle"),message:t("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:t("message.user.logOutConfirm"),cancelButtonText:t("message.user.logOutCancel"),buttonSize:"default",beforeClose:(D,T,H)=>{D==="confirm"?(T.confirmButtonLoading=!0,T.confirmButtonText=t("message.user.logOutExit"),setTimeout(()=>{H(),setTimeout(()=>{T.confirmButtonLoading=!1},300)},700)):H()}}).then(async()=>{Ge.clear(),window.location.reload()}).catch(()=>{}):I==="wareHouse"?window.open(""):o.push(I)},p=()=>{r.value.openSearch()},f=I=>{Te.remove("themeConfig"),c.value.globalI18n=I,Te.set("themeConfig",c.value),e.$i18n.locale=I,x(),Ln.useTitle()},m=I=>{e.$i18n&&e.$i18n.messages&&e.mittBus.emit("getI18nConfig",e.$i18n.messages[I])},b=()=>{c.value.isLockScreen=!0,c.value.lockScreenTime=0,Te.set("themeConfig",c.value)},x=()=>{switch(Te.get("themeConfig").globalI18n){case"zh-cn":s.disabledI18n="zh-cn",m("zh-cn");break;case"en":s.disabledI18n="en",m("en");break}},P=async I=>{console.log(I)};return Ie(()=>{Te.get("themeConfig")&&x()}),{getUserInfos:l,onHandleCommandClick:u,onScreenfullClick:d,onSearchClick:p,onLockClick:b,onLanguageChange:f,portalChange:P,searchRef:r,layoutUserFlexNum:a,...fe(s)}}};const Fo={class:"layout-navbars-breadcrumb-user-icon"},Ro=["title"],Mo={class:"layout-navbars-breadcrumb-user-icon"},Vo=["title"],Oo={class:"layout-navbars-breadcrumb-user-link"},Po=["src"];function Bo(t,e,o,n,i,r){const s=_("el-dropdown-item"),l=_("el-dropdown-menu"),c=_("el-dropdown"),a=_("elementSearch"),d=_("el-icon"),u=_("elementMonitor"),p=_("elementBell"),f=_("el-badge"),m=_("UserNews"),b=_("el-popover"),x=_("elementArrowDown"),P=_("Search");return w(),$("div",{class:"layout-navbars-breadcrumb-user",style:mt({flex:n.layoutUserFlexNum})},[v(c,{"show-timeout":70,"hide-timeout":50,onCommand:n.onLanguageChange},{dropdown:S(()=>[v(l,null,{default:S(()=>[v(s,{command:"zh-cn",disabled:t.disabledI18n==="zh-cn"},{default:S(()=>e[3]||(e[3]=[J("简体中文")])),_:1},8,["disabled"]),v(s,{command:"en",disabled:t.disabledI18n==="en"},{default:S(()=>e[4]||(e[4]=[J("English")])),_:1},8,["disabled"])]),_:1})]),default:S(()=>[F("div",Fo,[F("i",{class:se(["iconfont",t.disabledI18n==="en"?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),style:{"font-size":"18px"},title:t.$t("message.user.title1")},null,10,Ro)])]),_:1},8,["onCommand"]),F("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:e[0]||(e[0]=(...I)=>n.onSearchClick&&n.onSearchClick(...I))},[v(d,{title:t.$t("message.user.title2")},{default:S(()=>[v(a)]),_:1},8,["title"])]),F("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:e[1]||(e[1]=(...I)=>n.onLockClick&&n.onLockClick(...I))},[v(d,{title:"锁屏"},{default:S(()=>[v(u)]),_:1})]),F("div",Mo,[v(b,{placement:"bottom",transition:"el-zoom-in-top",width:300,persistent:!1},{reference:S(()=>[v(f,{"is-dot":!0},{default:S(()=>[v(d,{title:t.$t("message.user.title4")},{default:S(()=>[v(p)]),_:1},8,["title"])]),_:1})]),default:S(()=>[v(m)]),_:1})]),F("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:e[2]||(e[2]=(...I)=>n.onScreenfullClick&&n.onScreenfullClick(...I))},[F("i",{class:se(["iconfont",t.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:t.isScreenfull?t.$t("message.user.title6"):t.$t("message.user.title5")},null,10,Vo)]),v(c,{"show-timeout":70,"hide-timeout":50,onCommand:n.onHandleCommandClick},{dropdown:S(()=>[v(l,null,{default:S(()=>[v(s,{command:"/home"},{default:S(()=>[J(B(t.$t("message.user.dropdown1")),1)]),_:1}),v(s,{command:"wareHouse"},{default:S(()=>[J(B(t.$t("message.user.dropdown6")),1)]),_:1}),v(s,{command:"/personal"},{default:S(()=>[J(B(t.$t("message.user.dropdown2")),1)]),_:1}),v(s,{command:"/404"},{default:S(()=>[J(B(t.$t("message.user.dropdown3")),1)]),_:1}),v(s,{command:"/401"},{default:S(()=>[J(B(t.$t("message.user.dropdown4")),1)]),_:1}),v(s,{divided:"",command:"logOut"},{default:S(()=>[J(B(t.$t("message.user.dropdown5")),1)]),_:1})]),_:1})]),default:S(()=>[F("span",Oo,[F("img",{src:n.getUserInfos.photo,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,Po),J(" "+B(n.getUserInfos.username===""?"test":n.getUserInfos.username)+" ",1),v(d,{class:"el-icon--right"},{default:S(()=>[v(x)]),_:1})])]),_:1},8,["onCommand"]),v(P,{ref:"searchRef"},null,512)],4)}const Ho=X($o,[["render",Bo],["__scopeId","data-v-24c2fb16"]]),No=tt({name:"navMenuHorizontal",components:{SubItem:xn},props:{menuList:{type:Array,default:()=>[]}},setup(t){const{proxy:e}=pe(),o=Pe(),n=ee(),i=ht(),r=de({defaultActive:null}),s=O(()=>t.menuList),l=p=>{const f=p.wheelDelta||-p.deltaY*40;e.$refs.elMenuHorizontalScrollRef.$refs.wrapRef.scrollLeft=e.$refs.elMenuHorizontalScrollRef.$refs.wrapRef.scrollLeft+f/4},c=()=>{Ze(()=>{let p=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!p)return!1;e.$refs.elMenuHorizontalScrollRef.$refs.wrapRef.scrollLeft=p.offsetLeft})},a=p=>p.filter(f=>!f.meta.isHide).map(f=>(f=Object.assign({},f),f.children&&(f.children=a(f.children)),f)),d=p=>{const f=p.split("/");let m={};return a(i.routesList).map((b,x)=>{b.path===`/${f[1]}`&&(b.k=x,m.item=[{...b}],m.children=[{...b}],b.children&&(m.children=b.children))}),m},u=p=>{const{path:f,meta:m}=p;if(n.themeConfig.layout==="classic")r.defaultActive=`/${f.split("/")[1]}`;else{const b=m.isDynamic?m.isDynamicPath.split("/"):f.split("/");b.length>=4&&m.isHide?r.defaultActive=b.splice(0,3).join("/"):r.defaultActive=f}};return pt(()=>{u(o)}),Ie(()=>{c()}),nt(p=>{u(p),e.mittBus.emit("onMenuClick");let{layout:f,isClassicSplitMenu:m}=n.themeConfig;f==="classic"&&m&&e.mittBus.emit("setSendClassicChildren",d(p.path))}),{menuLists:s,onElMenuHorizontalScroll:l,...fe(r)}}});const zo={class:"el-menu-horizontal-warp"},Wo=["href"];function qo(t,e,o,n,i,r){const s=_("SvgIcon"),l=_("SubItem"),c=_("el-sub-menu"),a=_("el-menu-item"),d=_("el-menu"),u=_("el-scrollbar");return w(),$("div",zo,[v(u,{onWheel:qe(t.onElMenuHorizontalScroll,["prevent"]),ref:"elMenuHorizontalScrollRef"},{default:S(()=>[v(d,{router:"","default-active":t.defaultActive,ellipsis:!1,"background-color":"transparent",mode:"horizontal"},{default:S(()=>[(w(!0),$(ae,null,Oe(t.menuLists,p=>(w(),$(ae,null,[p.children&&p.children.length>0?(w(),V(c,{index:p.path,key:p.path},{title:S(()=>[v(s,{name:p.meta.icon},null,8,["name"]),J(" "+B(t.$t(p.meta.title)),1)]),default:S(()=>[v(l,{chil:p.children},null,8,["chil"])]),_:2},1032,["index"])):(w(),V(a,{index:p.path,key:p.path},Sn({_:2},[!p.meta.isLink||p.meta.isLink&&p.meta.isIframe?{name:"title",fn:S(()=>[v(s,{name:p.meta.icon},null,8,["name"]),J(" "+B(t.$t(p.meta.title)),1)]),key:"0"}:{name:"title",fn:S(()=>[F("a",{href:p.meta.isLink,target:"_blank",rel:"opener"},[v(s,{name:p.meta.icon},null,8,["name"]),J(" "+B(t.$t(p.meta.title)),1)],8,Wo)]),key:"1"}]),1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),_:1},8,["onWheel"])])}const Yo=X(No,[["render",qo],["__scopeId","data-v-451a2bb4"]]),Xo={name:"layoutBreadcrumbIndex",components:{Breadcrumb:yo,User:Ho,Logo:kn,Horizontal:Yo},setup(){const{proxy:t}=pe(),e=ee(),o=ht(),n=Pe(),i=de({menuList:[]}),r=O(()=>e.themeConfig),s=O(()=>{let{isShowLogo:p,layout:f}=e.themeConfig;return p&&f==="classic"||p&&f==="transverse"}),l=O(()=>{let{layout:p,isClassicSplitMenu:f}=e.themeConfig;return p==="transverse"||f&&p==="classic"}),c=()=>{let{layout:p,isClassicSplitMenu:f}=e.themeConfig;if(p==="classic"&&f){i.menuList=a(d(o.routesList));const m=u(n.path);t.mittBus.emit("setSendClassicChildren",m)}else i.menuList=d(o.routesList)},a=p=>(p.map(f=>{f.children&&delete f.children}),p),d=p=>p.filter(f=>!f.meta.isHide).map(f=>(f=Object.assign({},f),f.children&&(f.children=d(f.children)),f)),u=p=>{const f=p.split("/");let m={};return d(o.routesList).map((b,x)=>{b.path===`/${f[1]}`&&(b.k=x,m.item=[{...b}],m.children=[{...b}],b.children&&(m.children=b.children))}),m};return Ie(()=>{c(),t.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{c()})}),gt(()=>{t.mittBus.off("getBreadcrumbIndexSetFilterRoutes")}),{getThemeConfig:r,setIsShowLogo:s,isLayoutTransverse:l,...fe(i)}}};const jo={class:"layout-navbars-breadcrumb-index"};function Uo(t,e,o,n,i,r){const s=_("Logo"),l=_("Breadcrumb"),c=_("Horizontal"),a=_("User");return w(),$("div",jo,[n.setIsShowLogo?(w(),V(s,{key:0})):j("",!0),v(l),n.isLayoutTransverse?(w(),V(c,{key:1,menuList:t.menuList},null,8,["menuList"])):j("",!0),v(a)])}const Go=X(Xo,[["render",Uo],["__scopeId","data-v-ad2b5873"]]);/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function hn(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),o.push.apply(o,n)}return o}function Ce(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?hn(Object(o),!0).forEach(function(n){Qo(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):hn(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function Lt(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lt=function(e){return typeof e}:Lt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(t)}function Qo(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function xe(){return xe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},xe.apply(this,arguments)}function Ko(t,e){if(t==null)return{};var o={},n=Object.keys(t),i,r;for(r=0;r<n.length;r++)i=n[r],!(e.indexOf(i)>=0)&&(o[i]=t[i]);return o}function Zo(t,e){if(t==null)return{};var o=Ko(t,e),n,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var Jo="1.15.6";function ke(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Ae=ke(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),_t=ke(/Edge/i),pn=ke(/firefox/i),rt=ke(/safari/i)&&!ke(/chrome/i)&&!ke(/android/i),sn=ke(/iP(ad|od|hone)/i),In=ke(/chrome/i)&&ke(/android/i),An={capture:!1,passive:!1};function M(t,e,o){t.addEventListener(e,o,!Ae&&An)}function R(t,e,o){t.removeEventListener(e,o,!Ae&&An)}function $t(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function $n(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function ye(t,e,o,n){if(t){o=o||document;do{if(e!=null&&(e[0]===">"?t.parentNode===o&&$t(t,e):$t(t,e))||n&&t===o)return t;if(t===o)break}while(t=$n(t))}return null}var gn=/\s+/g;function le(t,e,o){if(t&&e)if(t.classList)t.classList[o?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(gn," ").replace(" "+e+" "," ");t.className=(n+(o?" "+e:"")).replace(gn," ")}}function L(t,e,o){var n=t&&t.style;if(n){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),e===void 0?o:o[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=o+(typeof o=="string"?"":"px")}}function Je(t,e){var o="";if(typeof t=="string")o=t;else do{var n=L(t,"transform");n&&n!=="none"&&(o=n+" "+o)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(o)}function Fn(t,e,o){if(t){var n=t.getElementsByTagName(e),i=0,r=n.length;if(o)for(;i<r;i++)o(n[i],i);return n}return[]}function we(){var t=document.scrollingElement;return t||document.documentElement}function G(t,e,o,n,i){if(!(!t.getBoundingClientRect&&t!==window)){var r,s,l,c,a,d,u;if(t!==window&&t.parentNode&&t!==we()?(r=t.getBoundingClientRect(),s=r.top,l=r.left,c=r.bottom,a=r.right,d=r.height,u=r.width):(s=0,l=0,c=window.innerHeight,a=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(e||o)&&t!==window&&(i=i||t.parentNode,!Ae))do if(i&&i.getBoundingClientRect&&(L(i,"transform")!=="none"||o&&L(i,"position")!=="static")){var p=i.getBoundingClientRect();s-=p.top+parseInt(L(i,"border-top-width")),l-=p.left+parseInt(L(i,"border-left-width")),c=s+r.height,a=l+r.width;break}while(i=i.parentNode);if(n&&t!==window){var f=Je(i||t),m=f&&f.a,b=f&&f.d;f&&(s/=b,l/=m,u/=m,d/=b,c=s+d,a=l+u)}return{top:s,left:l,bottom:c,right:a,width:u,height:d}}}function _n(t,e,o){for(var n=Ve(t,!0),i=G(t)[e];n;){var r=G(n)[o],s=void 0;if(o==="top"||o==="left"?s=i>=r:s=i<=r,!s)return n;if(n===we())break;n=Ve(n,!1)}return!1}function et(t,e,o,n){for(var i=0,r=0,s=t.children;r<s.length;){if(s[r].style.display!=="none"&&s[r]!==k.ghost&&(n||s[r]!==k.dragged)&&ye(s[r],o.draggable,t,!1)){if(i===e)return s[r];i++}r++}return null}function an(t,e){for(var o=t.lastElementChild;o&&(o===k.ghost||L(o,"display")==="none"||e&&!$t(o,e));)o=o.previousElementSibling;return o||null}function he(t,e){var o=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==k.clone&&(!e||$t(t,e))&&o++;return o}function bn(t){var e=0,o=0,n=we();if(t)do{var i=Je(t),r=i.a,s=i.d;e+=t.scrollLeft*r,o+=t.scrollTop*s}while(t!==n&&(t=t.parentNode));return[e,o]}function ei(t,e){for(var o in t)if(t.hasOwnProperty(o)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[o][n])return Number(o)}return-1}function Ve(t,e){if(!t||!t.getBoundingClientRect)return we();var o=t,n=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var i=L(o);if(o.clientWidth<o.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return we();if(n||e)return o;n=!0}}while(o=o.parentNode);return we()}function ti(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function qt(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var lt;function Rn(t,e){return function(){if(!lt){var o=arguments,n=this;o.length===1?t.call(n,o[0]):t.apply(n,o),lt=setTimeout(function(){lt=void 0},e)}}}function ni(){clearTimeout(lt),lt=void 0}function Mn(t,e,o){t.scrollLeft+=e,t.scrollTop+=o}function Vn(t){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):o?o(t).clone(!0)[0]:t.cloneNode(!0)}function On(t,e,o){var n={};return Array.from(t.children).forEach(function(i){var r,s,l,c;if(!(!ye(i,e.draggable,t,!1)||i.animated||i===o)){var a=G(i);n.left=Math.min((r=n.left)!==null&&r!==void 0?r:1/0,a.left),n.top=Math.min((s=n.top)!==null&&s!==void 0?s:1/0,a.top),n.right=Math.max((l=n.right)!==null&&l!==void 0?l:-1/0,a.right),n.bottom=Math.max((c=n.bottom)!==null&&c!==void 0?c:-1/0,a.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var ie="Sortable"+new Date().getTime();function oi(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(L(i,"display")==="none"||i===k.ghost)){t.push({target:i,rect:G(i)});var r=Ce({},t[t.length-1].rect);if(i.thisAnimationDuration){var s=Je(i,!0);s&&(r.top-=s.f,r.left-=s.e)}i.fromRect=r}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(ei(t,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,s=0;t.forEach(function(l){var c=0,a=l.target,d=a.fromRect,u=G(a),p=a.prevFromRect,f=a.prevToRect,m=l.rect,b=Je(a,!0);b&&(u.top-=b.f,u.left-=b.e),a.toRect=u,a.thisAnimationDuration&&qt(p,u)&&!qt(d,u)&&(m.top-u.top)/(m.left-u.left)===(d.top-u.top)/(d.left-u.left)&&(c=si(m,p,f,i.options)),qt(u,d)||(a.prevFromRect=d,a.prevToRect=u,c||(c=i.options.animation),i.animate(a,m,u,c)),c&&(r=!0,s=Math.max(s,c),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},c),a.thisAnimationDuration=c)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},s):typeof n=="function"&&n(),t=[]},animate:function(n,i,r,s){if(s){L(n,"transition",""),L(n,"transform","");var l=Je(this.el),c=l&&l.a,a=l&&l.d,d=(i.left-r.left)/(c||1),u=(i.top-r.top)/(a||1);n.animatingX=!!d,n.animatingY=!!u,L(n,"transform","translate3d("+d+"px,"+u+"px,0)"),this.forRepaintDummy=ii(n),L(n,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),L(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){L(n,"transition",""),L(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},s)}}}}function ii(t){return t.offsetWidth}function si(t,e,o,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*n.animation}var je=[],Yt={initializeByDefault:!0},bt={mount:function(e){for(var o in Yt)Yt.hasOwnProperty(o)&&!(o in e)&&(e[o]=Yt[o]);je.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),je.push(e)},pluginEvent:function(e,o,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=e+"Global";je.forEach(function(s){o[s.pluginName]&&(o[s.pluginName][r]&&o[s.pluginName][r](Ce({sortable:o},n)),o.options[s.pluginName]&&o[s.pluginName][e]&&o[s.pluginName][e](Ce({sortable:o},n)))})},initializePlugins:function(e,o,n,i){je.forEach(function(l){var c=l.pluginName;if(!(!e.options[c]&&!l.initializeByDefault)){var a=new l(e,o,e.options);a.sortable=e,a.options=e.options,e[c]=a,xe(n,a.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var s=this.modifyOption(e,r,e.options[r]);typeof s<"u"&&(e.options[r]=s)}},getEventProperties:function(e,o){var n={};return je.forEach(function(i){typeof i.eventProperties=="function"&&xe(n,i.eventProperties.call(o[i.pluginName],e))}),n},modifyOption:function(e,o,n){var i;return je.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[o]=="function"&&(i=r.optionListeners[o].call(e[r.pluginName],n))}),i}};function ai(t){var e=t.sortable,o=t.rootEl,n=t.name,i=t.targetEl,r=t.cloneEl,s=t.toEl,l=t.fromEl,c=t.oldIndex,a=t.newIndex,d=t.oldDraggableIndex,u=t.newDraggableIndex,p=t.originalEvent,f=t.putSortable,m=t.extraEventProperties;if(e=e||o&&o[ie],!!e){var b,x=e.options,P="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Ae&&!_t?b=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(n,!0,!0)),b.to=s||o,b.from=l||o,b.item=i||o,b.clone=r,b.oldIndex=c,b.newIndex=a,b.oldDraggableIndex=d,b.newDraggableIndex=u,b.originalEvent=p,b.pullMode=f?f.lastPutMode:void 0;var I=Ce(Ce({},m),bt.getEventProperties(n,e));for(var D in I)b[D]=I[D];o&&o.dispatchEvent(b),x[P]&&x[P].call(e,b)}}var ri=["evt"],oe=function(e,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,r=Zo(n,ri);bt.pluginEvent.bind(k)(e,o,Ce({dragEl:y,parentEl:Y,ghostEl:A,rootEl:z,nextEl:We,lastDownEl:kt,cloneEl:W,cloneHidden:Me,dragStarted:it,putSortable:Q,activeSortable:k.active,originalEvent:i,oldIndex:Ke,oldDraggableIndex:ct,newIndex:ce,newDraggableIndex:Re,hideGhostForTarget:Nn,unhideGhostForTarget:zn,cloneNowHidden:function(){Me=!0},cloneNowShown:function(){Me=!1},dispatchSortableEvent:function(l){te({sortable:o,name:l,originalEvent:i})}},r))};function te(t){ai(Ce({putSortable:Q,cloneEl:W,targetEl:y,rootEl:z,oldIndex:Ke,oldDraggableIndex:ct,newIndex:ce,newDraggableIndex:Re},t))}var y,Y,A,z,We,kt,W,Me,Ke,ce,ct,Re,St,Q,Qe=!1,Ft=!1,Rt=[],Ne,be,Xt,jt,yn,vn,it,Ue,ut,dt=!1,Et=!1,xt,Z,Ut=[],Jt=!1,Mt=[],Bt=typeof document<"u",Tt=sn,wn=_t||Ae?"cssFloat":"float",li=Bt&&!In&&!sn&&"draggable"in document.createElement("div"),Pn=function(){if(Bt){if(Ae)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Bn=function(e,o){var n=L(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=et(e,0,o),s=et(e,1,o),l=r&&L(r),c=s&&L(s),a=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+G(r).width,d=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+G(s).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var u=l.float==="left"?"left":"right";return s&&(c.clear==="both"||c.clear===u)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||a>=i&&n[wn]==="none"||s&&n[wn]==="none"&&a+d>i)?"vertical":"horizontal"},ci=function(e,o,n){var i=n?e.left:e.top,r=n?e.right:e.bottom,s=n?e.width:e.height,l=n?o.left:o.top,c=n?o.right:o.bottom,a=n?o.width:o.height;return i===l||r===c||i+s/2===l+a/2},ui=function(e,o){var n;return Rt.some(function(i){var r=i[ie].options.emptyInsertThreshold;if(!(!r||an(i))){var s=G(i),l=e>=s.left-r&&e<=s.right+r,c=o>=s.top-r&&o<=s.bottom+r;if(l&&c)return n=i}}),n},Hn=function(e){function o(r,s){return function(l,c,a,d){var u=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(r==null&&(s||u))return!0;if(r==null||r===!1)return!1;if(s&&r==="clone")return r;if(typeof r=="function")return o(r(l,c,a,d),s)(l,c,a,d);var p=(s?l:c).options.group.name;return r===!0||typeof r=="string"&&r===p||r.join&&r.indexOf(p)>-1}}var n={},i=e.group;(!i||Lt(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=o(i.pull,!0),n.checkPut=o(i.put),n.revertClone=i.revertClone,e.group=n},Nn=function(){!Pn&&A&&L(A,"display","none")},zn=function(){!Pn&&A&&L(A,"display","")};Bt&&!In&&document.addEventListener("click",function(t){if(Ft)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Ft=!1,!1},!0);var ze=function(e){if(y){e=e.touches?e.touches[0]:e;var o=ui(e.clientX,e.clientY);if(o){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=o,n.preventDefault=void 0,n.stopPropagation=void 0,o[ie]._onDragOver(n)}}},di=function(e){y&&y.parentNode[ie]._isOutsideThisEl(e.target)};function k(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=xe({},e),t[ie]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Bn(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,l){s.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:k.supportPointer!==!1&&"PointerEvent"in window&&(!rt||sn),emptyInsertThreshold:5};bt.initializePlugins(this,t,o);for(var n in o)!(n in e)&&(e[n]=o[n]);Hn(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:li,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?M(t,"pointerdown",this._onTapStart):(M(t,"mousedown",this._onTapStart),M(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(M(t,"dragover",this),M(t,"dragenter",this)),Rt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),xe(this,oi())}k.prototype={constructor:k,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ue=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,y):this.options.direction},_onTapStart:function(e){if(e.cancelable){var o=this,n=this.el,i=this.options,r=i.preventOnFilter,s=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(l||e).target,a=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,d=i.filter;if(yi(n),!y&&!(/mousedown|pointerdown/.test(s)&&e.button!==0||i.disabled)&&!a.isContentEditable&&!(!this.nativeDraggable&&rt&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=ye(c,i.draggable,n,!1),!(c&&c.animated)&&kt!==c)){if(Ke=he(c),ct=he(c,i.draggable),typeof d=="function"){if(d.call(this,e,c,this)){te({sortable:o,rootEl:a,name:"filter",targetEl:c,toEl:n,fromEl:n}),oe("filter",o,{evt:e}),r&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(u){if(u=ye(a,u.trim(),n,!1),u)return te({sortable:o,rootEl:u,name:"filter",targetEl:c,fromEl:n,toEl:n}),oe("filter",o,{evt:e}),!0}),d)){r&&e.preventDefault();return}i.handle&&!ye(a,i.handle,n,!1)||this._prepareDragStart(e,l,c)}}},_prepareDragStart:function(e,o,n){var i=this,r=i.el,s=i.options,l=r.ownerDocument,c;if(n&&!y&&n.parentNode===r){var a=G(n);if(z=r,y=n,Y=y.parentNode,We=y.nextSibling,kt=n,St=s.group,k.dragged=y,Ne={target:y,clientX:(o||e).clientX,clientY:(o||e).clientY},yn=Ne.clientX-a.left,vn=Ne.clientY-a.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,y.style["will-change"]="all",c=function(){if(oe("delayEnded",i,{evt:e}),k.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!pn&&i.nativeDraggable&&(y.draggable=!0),i._triggerDragStart(e,o),te({sortable:i,name:"choose",originalEvent:e}),le(y,s.chosenClass,!0)},s.ignore.split(",").forEach(function(d){Fn(y,d.trim(),Gt)}),M(l,"dragover",ze),M(l,"mousemove",ze),M(l,"touchmove",ze),s.supportPointer?(M(l,"pointerup",i._onDrop),!this.nativeDraggable&&M(l,"pointercancel",i._onDrop)):(M(l,"mouseup",i._onDrop),M(l,"touchend",i._onDrop),M(l,"touchcancel",i._onDrop)),pn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,y.draggable=!0),oe("delayStart",this,{evt:e}),s.delay&&(!s.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(_t||Ae))){if(k.eventCanceled){this._onDrop();return}s.supportPointer?(M(l,"pointerup",i._disableDelayedDrag),M(l,"pointercancel",i._disableDelayedDrag)):(M(l,"mouseup",i._disableDelayedDrag),M(l,"touchend",i._disableDelayedDrag),M(l,"touchcancel",i._disableDelayedDrag)),M(l,"mousemove",i._delayedDragTouchMoveHandler),M(l,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&M(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(c,s.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){y&&Gt(y),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;R(e,"mouseup",this._disableDelayedDrag),R(e,"touchend",this._disableDelayedDrag),R(e,"touchcancel",this._disableDelayedDrag),R(e,"pointerup",this._disableDelayedDrag),R(e,"pointercancel",this._disableDelayedDrag),R(e,"mousemove",this._delayedDragTouchMoveHandler),R(e,"touchmove",this._delayedDragTouchMoveHandler),R(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?M(document,"pointermove",this._onTouchMove):o?M(document,"touchmove",this._onTouchMove):M(document,"mousemove",this._onTouchMove):(M(y,"dragend",this),M(z,"dragstart",this._onDragStart));try{document.selection?It(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if(Qe=!1,z&&y){oe("dragStarted",this,{evt:o}),this.nativeDraggable&&M(document,"dragover",di);var n=this.options;!e&&le(y,n.dragClass,!1),le(y,n.ghostClass,!0),k.active=this,e&&this._appendGhost(),te({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(be){this._lastX=be.clientX,this._lastY=be.clientY,Nn();for(var e=document.elementFromPoint(be.clientX,be.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(be.clientX,be.clientY),e!==o);)o=e;if(y.parentNode[ie]._isOutsideThisEl(e),o)do{if(o[ie]){var n=void 0;if(n=o[ie]._onDragOver({clientX:be.clientX,clientY:be.clientY,target:e,rootEl:o}),n&&!this.options.dragoverBubble)break}e=o}while(o=$n(o));zn()}},_onTouchMove:function(e){if(Ne){var o=this.options,n=o.fallbackTolerance,i=o.fallbackOffset,r=e.touches?e.touches[0]:e,s=A&&Je(A,!0),l=A&&s&&s.a,c=A&&s&&s.d,a=Tt&&Z&&bn(Z),d=(r.clientX-Ne.clientX+i.x)/(l||1)+(a?a[0]-Ut[0]:0)/(l||1),u=(r.clientY-Ne.clientY+i.y)/(c||1)+(a?a[1]-Ut[1]:0)/(c||1);if(!k.active&&!Qe){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(A){s?(s.e+=d-(Xt||0),s.f+=u-(jt||0)):s={a:1,b:0,c:0,d:1,e:d,f:u};var p="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");L(A,"webkitTransform",p),L(A,"mozTransform",p),L(A,"msTransform",p),L(A,"transform",p),Xt=d,jt=u,be=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!A){var e=this.options.fallbackOnBody?document.body:z,o=G(y,!0,Tt,!0,e),n=this.options;if(Tt){for(Z=e;L(Z,"position")==="static"&&L(Z,"transform")==="none"&&Z!==document;)Z=Z.parentNode;Z!==document.body&&Z!==document.documentElement?(Z===document&&(Z=we()),o.top+=Z.scrollTop,o.left+=Z.scrollLeft):Z=we(),Ut=bn(Z)}A=y.cloneNode(!0),le(A,n.ghostClass,!1),le(A,n.fallbackClass,!0),le(A,n.dragClass,!0),L(A,"transition",""),L(A,"transform",""),L(A,"box-sizing","border-box"),L(A,"margin",0),L(A,"top",o.top),L(A,"left",o.left),L(A,"width",o.width),L(A,"height",o.height),L(A,"opacity","0.8"),L(A,"position",Tt?"absolute":"fixed"),L(A,"zIndex","100000"),L(A,"pointerEvents","none"),k.ghost=A,e.appendChild(A),L(A,"transform-origin",yn/parseInt(A.style.width)*100+"% "+vn/parseInt(A.style.height)*100+"%")}},_onDragStart:function(e,o){var n=this,i=e.dataTransfer,r=n.options;if(oe("dragStart",this,{evt:e}),k.eventCanceled){this._onDrop();return}oe("setupClone",this),k.eventCanceled||(W=Vn(y),W.removeAttribute("id"),W.draggable=!1,W.style["will-change"]="",this._hideClone(),le(W,this.options.chosenClass,!1),k.clone=W),n.cloneId=It(function(){oe("clone",n),!k.eventCanceled&&(n.options.removeCloneOnHide||z.insertBefore(W,y),n._hideClone(),te({sortable:n,name:"clone"}))}),!o&&le(y,r.dragClass,!0),o?(Ft=!0,n._loopId=setInterval(n._emulateDragOver,50)):(R(document,"mouseup",n._onDrop),R(document,"touchend",n._onDrop),R(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,y)),M(document,"drop",n),L(y,"transform","translateZ(0)")),Qe=!0,n._dragStartId=It(n._dragStarted.bind(n,o,e)),M(document,"selectstart",n),it=!0,window.getSelection().removeAllRanges(),rt&&L(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,n=e.target,i,r,s,l=this.options,c=l.group,a=k.active,d=St===c,u=l.sort,p=Q||a,f,m=this,b=!1;if(Jt)return;function x(Ee,g){oe(Ee,m,Ce({evt:e,isOwner:d,axis:f?"vertical":"horizontal",revert:s,dragRect:i,targetRect:r,canSort:u,fromSortable:p,target:n,completed:I,onMove:function(E,C){return Dt(z,o,y,i,E,G(E),e,C)},changed:D},g))}function P(){x("dragOverAnimationCapture"),m.captureAnimationState(),m!==p&&p.captureAnimationState()}function I(Ee){return x("dragOverCompleted",{insertion:Ee}),Ee&&(d?a._hideClone():a._showClone(m),m!==p&&(le(y,Q?Q.options.ghostClass:a.options.ghostClass,!1),le(y,l.ghostClass,!0)),Q!==m&&m!==k.active?Q=m:m===k.active&&Q&&(Q=null),p===m&&(m._ignoreWhileAnimating=n),m.animateAll(function(){x("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(n===y&&!y.animated||n===o&&!n.animated)&&(Ue=null),!l.dragoverBubble&&!e.rootEl&&n!==document&&(y.parentNode[ie]._isOutsideThisEl(e.target),!Ee&&ze(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function D(){ce=he(y),Re=he(y,l.draggable),te({sortable:m,name:"change",toEl:o,newIndex:ce,newDraggableIndex:Re,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=ye(n,l.draggable,o,!0),x("dragOver"),k.eventCanceled)return b;if(y.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||m._ignoreWhileAnimating===n)return I(!1);if(Ft=!1,a&&!l.disabled&&(d?u||(s=Y!==z):Q===this||(this.lastPutMode=St.checkPull(this,a,y,e))&&c.checkPut(this,a,y,e))){if(f=this._getDirection(e,n)==="vertical",i=G(y),x("dragOverValid"),k.eventCanceled)return b;if(s)return Y=z,P(),this._hideClone(),x("revert"),k.eventCanceled||(We?z.insertBefore(y,We):z.appendChild(y)),I(!0);var T=an(o,l.draggable);if(!T||pi(e,f,this)&&!T.animated){if(T===y)return I(!1);if(T&&o===e.target&&(n=T),n&&(r=G(n)),Dt(z,o,y,i,n,r,e,!!n)!==!1)return P(),T&&T.nextSibling?o.insertBefore(y,T.nextSibling):o.appendChild(y),Y=o,D(),I(!0)}else if(T&&hi(e,f,this)){var H=et(o,0,l,!0);if(H===y)return I(!1);if(n=H,r=G(n),Dt(z,o,y,i,n,r,e,!1)!==!1)return P(),o.insertBefore(y,H),Y=o,D(),I(!0)}else if(n.parentNode===o){r=G(n);var N=0,ne,$e=y.parentNode!==o,K=!ci(y.animated&&y.toRect||i,n.animated&&n.toRect||r,f),Be=f?"top":"left",ve=_n(n,"top","top")||_n(y,"top","top"),re=ve?ve.scrollTop:void 0;Ue!==n&&(ne=r[Be],dt=!1,Et=!K&&l.invertSwap||$e),N=gi(e,n,r,f,K?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Et,Ue===n);var ge;if(N!==0){var Se=he(y);do Se-=N,ge=Y.children[Se];while(ge&&(L(ge,"display")==="none"||ge===A))}if(N===0||ge===n)return I(!1);Ue=n,ut=N;var He=n.nextElementSibling,_e=!1;_e=N===1;var Fe=Dt(z,o,y,i,n,r,e,_e);if(Fe!==!1)return(Fe===1||Fe===-1)&&(_e=Fe===1),Jt=!0,setTimeout(mi,30),P(),_e&&!He?o.appendChild(y):n.parentNode.insertBefore(y,_e?He:n),ve&&Mn(ve,0,re-ve.scrollTop),Y=y.parentNode,ne!==void 0&&!Et&&(xt=Math.abs(ne-G(n)[Be])),D(),I(!0)}if(o.contains(y))return I(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){R(document,"mousemove",this._onTouchMove),R(document,"touchmove",this._onTouchMove),R(document,"pointermove",this._onTouchMove),R(document,"dragover",ze),R(document,"mousemove",ze),R(document,"touchmove",ze)},_offUpEvents:function(){var e=this.el.ownerDocument;R(e,"mouseup",this._onDrop),R(e,"touchend",this._onDrop),R(e,"pointerup",this._onDrop),R(e,"pointercancel",this._onDrop),R(e,"touchcancel",this._onDrop),R(document,"selectstart",this)},_onDrop:function(e){var o=this.el,n=this.options;if(ce=he(y),Re=he(y,n.draggable),oe("drop",this,{evt:e}),Y=y&&y.parentNode,ce=he(y),Re=he(y,n.draggable),k.eventCanceled){this._nulling();return}Qe=!1,Et=!1,dt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),en(this.cloneId),en(this._dragStartId),this.nativeDraggable&&(R(document,"drop",this),R(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),rt&&L(document.body,"user-select",""),L(y,"transform",""),e&&(it&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),A&&A.parentNode&&A.parentNode.removeChild(A),(z===Y||Q&&Q.lastPutMode!=="clone")&&W&&W.parentNode&&W.parentNode.removeChild(W),y&&(this.nativeDraggable&&R(y,"dragend",this),Gt(y),y.style["will-change"]="",it&&!Qe&&le(y,Q?Q.options.ghostClass:this.options.ghostClass,!1),le(y,this.options.chosenClass,!1),te({sortable:this,name:"unchoose",toEl:Y,newIndex:null,newDraggableIndex:null,originalEvent:e}),z!==Y?(ce>=0&&(te({rootEl:Y,name:"add",toEl:Y,fromEl:z,originalEvent:e}),te({sortable:this,name:"remove",toEl:Y,originalEvent:e}),te({rootEl:Y,name:"sort",toEl:Y,fromEl:z,originalEvent:e}),te({sortable:this,name:"sort",toEl:Y,originalEvent:e})),Q&&Q.save()):ce!==Ke&&ce>=0&&(te({sortable:this,name:"update",toEl:Y,originalEvent:e}),te({sortable:this,name:"sort",toEl:Y,originalEvent:e})),k.active&&((ce==null||ce===-1)&&(ce=Ke,Re=ct),te({sortable:this,name:"end",toEl:Y,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){oe("nulling",this),z=y=Y=A=We=W=kt=Me=Ne=be=it=ce=Re=Ke=ct=Ue=ut=Q=St=k.dragged=k.ghost=k.clone=k.active=null,Mt.forEach(function(e){e.checked=!0}),Mt.length=Xt=jt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":y&&(this._onDragOver(e),fi(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,n=this.el.children,i=0,r=n.length,s=this.options;i<r;i++)o=n[i],ye(o,s.draggable,this.el,!1)&&e.push(o.getAttribute(s.dataIdAttr)||bi(o));return e},sort:function(e,o){var n={},i=this.el;this.toArray().forEach(function(r,s){var l=i.children[s];ye(l,this.options.draggable,i,!1)&&(n[r]=l)},this),o&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(i.removeChild(n[r]),i.appendChild(n[r]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return ye(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var n=this.options;if(o===void 0)return n[e];var i=bt.modifyOption(this,e,o);typeof i<"u"?n[e]=i:n[e]=o,e==="group"&&Hn(n)},destroy:function(){oe("destroy",this);var e=this.el;e[ie]=null,R(e,"mousedown",this._onTapStart),R(e,"touchstart",this._onTapStart),R(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(R(e,"dragover",this),R(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Rt.splice(Rt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Me){if(oe("hideClone",this),k.eventCanceled)return;L(W,"display","none"),this.options.removeCloneOnHide&&W.parentNode&&W.parentNode.removeChild(W),Me=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Me){if(oe("showClone",this),k.eventCanceled)return;y.parentNode==z&&!this.options.group.revertClone?z.insertBefore(W,y):We?z.insertBefore(W,We):z.appendChild(W),this.options.group.revertClone&&this.animate(y,W),L(W,"display",""),Me=!1}}};function fi(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Dt(t,e,o,n,i,r,s,l){var c,a=t[ie],d=a.options.onMove,u;return window.CustomEvent&&!Ae&&!_t?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=t,c.dragged=o,c.draggedRect=n,c.related=i||e,c.relatedRect=r||G(e),c.willInsertAfter=l,c.originalEvent=s,t.dispatchEvent(c),d&&(u=d.call(a,c,s)),u}function Gt(t){t.draggable=!1}function mi(){Jt=!1}function hi(t,e,o){var n=G(et(o.el,0,o.options,!0)),i=On(o.el,o.options,A),r=10;return e?t.clientX<i.left-r||t.clientY<n.top&&t.clientX<n.right:t.clientY<i.top-r||t.clientY<n.bottom&&t.clientX<n.left}function pi(t,e,o){var n=G(an(o.el,o.options.draggable)),i=On(o.el,o.options,A),r=10;return e?t.clientX>i.right+r||t.clientY>n.bottom&&t.clientX>n.left:t.clientY>i.bottom+r||t.clientX>n.right&&t.clientY>n.top}function gi(t,e,o,n,i,r,s,l){var c=n?t.clientY:t.clientX,a=n?o.height:o.width,d=n?o.top:o.left,u=n?o.bottom:o.right,p=!1;if(!s){if(l&&xt<a*i){if(!dt&&(ut===1?c>d+a*r/2:c<u-a*r/2)&&(dt=!0),dt)p=!0;else if(ut===1?c<d+xt:c>u-xt)return-ut}else if(c>d+a*(1-i)/2&&c<u-a*(1-i)/2)return _i(e)}return p=p||s,p&&(c<d+a*r/2||c>u-a*r/2)?c>d+a/2?1:-1:0}function _i(t){return he(y)<he(t)?1:-1}function bi(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,n=0;o--;)n+=e.charCodeAt(o);return n.toString(36)}function yi(t){Mt.length=0;for(var e=t.getElementsByTagName("input"),o=e.length;o--;){var n=e[o];n.checked&&Mt.push(n)}}function It(t){return setTimeout(t,0)}function en(t){return clearTimeout(t)}Bt&&M(document,"touchmove",function(t){(k.active||Qe)&&t.cancelable&&t.preventDefault()});k.utils={on:M,off:R,css:L,find:Fn,is:function(e,o){return!!ye(e,o,e,!1)},extend:ti,throttle:Rn,closest:ye,toggleClass:le,clone:Vn,index:he,nextTick:It,cancelNextTick:en,detectDirection:Bn,getChild:et,expando:ie};k.get=function(t){return t[ie]};k.mount=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(k.utils=Ce(Ce({},k.utils),n.utils)),bt.mount(n)})};k.create=function(t,e){return new k(t,e)};k.version=Jo;var U=[],st,tn,nn=!1,Qt,Kt,Vt,at;function vi(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(o){var n=o.originalEvent;this.sortable.nativeDraggable?M(document,"dragover",this._handleAutoScroll):this.options.supportPointer?M(document,"pointermove",this._handleFallbackAutoScroll):n.touches?M(document,"touchmove",this._handleFallbackAutoScroll):M(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var n=o.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?R(document,"dragover",this._handleAutoScroll):(R(document,"pointermove",this._handleFallbackAutoScroll),R(document,"touchmove",this._handleFallbackAutoScroll),R(document,"mousemove",this._handleFallbackAutoScroll)),Cn(),At(),ni()},nulling:function(){Vt=tn=st=nn=at=Qt=Kt=null,U.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,n){var i=this,r=(o.touches?o.touches[0]:o).clientX,s=(o.touches?o.touches[0]:o).clientY,l=document.elementFromPoint(r,s);if(Vt=o,n||this.options.forceAutoScrollFallback||_t||Ae||rt){Zt(o,this.options,l,n);var c=Ve(l,!0);nn&&(!at||r!==Qt||s!==Kt)&&(at&&Cn(),at=setInterval(function(){var a=Ve(document.elementFromPoint(r,s),!0);a!==c&&(c=a,At()),Zt(o,i.options,a,n)},10),Qt=r,Kt=s)}else{if(!this.options.bubbleScroll||Ve(l,!0)===we()){At();return}Zt(o,this.options,Ve(l,!1),!1)}}},xe(t,{pluginName:"scroll",initializeByDefault:!0})}function At(){U.forEach(function(t){clearInterval(t.pid)}),U=[]}function Cn(){clearInterval(at)}var Zt=Rn(function(t,e,o,n){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,c=we(),a=!1,d;tn!==o&&(tn=o,At(),st=e.scroll,d=e.scrollFn,st===!0&&(st=Ve(o,!0)));var u=0,p=st;do{var f=p,m=G(f),b=m.top,x=m.bottom,P=m.left,I=m.right,D=m.width,T=m.height,H=void 0,N=void 0,ne=f.scrollWidth,$e=f.scrollHeight,K=L(f),Be=f.scrollLeft,ve=f.scrollTop;f===c?(H=D<ne&&(K.overflowX==="auto"||K.overflowX==="scroll"||K.overflowX==="visible"),N=T<$e&&(K.overflowY==="auto"||K.overflowY==="scroll"||K.overflowY==="visible")):(H=D<ne&&(K.overflowX==="auto"||K.overflowX==="scroll"),N=T<$e&&(K.overflowY==="auto"||K.overflowY==="scroll"));var re=H&&(Math.abs(I-i)<=s&&Be+D<ne)-(Math.abs(P-i)<=s&&!!Be),ge=N&&(Math.abs(x-r)<=s&&ve+T<$e)-(Math.abs(b-r)<=s&&!!ve);if(!U[u])for(var Se=0;Se<=u;Se++)U[Se]||(U[Se]={});(U[u].vx!=re||U[u].vy!=ge||U[u].el!==f)&&(U[u].el=f,U[u].vx=re,U[u].vy=ge,clearInterval(U[u].pid),(re!=0||ge!=0)&&(a=!0,U[u].pid=setInterval((function(){n&&this.layer===0&&k.active._onTouchMove(Vt);var He=U[this.layer].vy?U[this.layer].vy*l:0,_e=U[this.layer].vx?U[this.layer].vx*l:0;typeof d=="function"&&d.call(k.dragged.parentNode[ie],_e,He,t,Vt,U[this.layer].el)!=="continue"||Mn(U[this.layer].el,_e,He)}).bind({layer:u}),24))),u++}while(e.bubbleScroll&&p!==c&&(p=Ve(p,!1)));nn=a}},30),Wn=function(e){var o=e.originalEvent,n=e.putSortable,i=e.dragEl,r=e.activeSortable,s=e.dispatchSortableEvent,l=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(o){var a=n||r;l();var d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,u=document.elementFromPoint(d.clientX,d.clientY);c(),a&&!a.el.contains(u)&&(s("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function rn(){}rn.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=et(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(o,i):this.sortable.el.appendChild(o),this.sortable.animateAll(),n&&n.animateAll()},drop:Wn};xe(rn,{pluginName:"revertOnSpill"});function ln(){}ln.prototype={onSpill:function(e){var o=e.dragEl,n=e.putSortable,i=n||this.sortable;i.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),i.animateAll()},drop:Wn};xe(ln,{pluginName:"removeOnSpill"});k.mount(new vi);k.mount(ln,rn);const wi=tt({name:"layoutTagsViewContextmenu",props:{dropdown:{type:Object}},setup(t,{emit:e}){const o=de({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"message.tagsView.refresh",affix:!1,icon:"elementRefreshRight"},{contextMenuClickId:1,txt:"message.tagsView.close",affix:!1,icon:"elementClose"},{contextMenuClickId:2,txt:"message.tagsView.closeOther",affix:!1,icon:"elementCircleClose"},{contextMenuClickId:3,txt:"message.tagsView.closeAll",affix:!1,icon:"elementFolderDelete"},{contextMenuClickId:4,txt:"message.tagsView.fullscreen",affix:!1,icon:"iconfont icon-fullscreen"}],item:{},arrowLeft:10}),n=O(()=>t.dropdown.x+117>document.documentElement.clientWidth?{x:document.documentElement.clientWidth-117-5,y:t.dropdown.y}:t.dropdown),i=l=>{e("currentContextmenuClick",Object.assign({},{contextMenuClickId:l},o.item))},r=l=>{o.item=l,l.meta.isAffix?o.dropdownList[1].affix=!0:o.dropdownList[1].affix=!1,s(),setTimeout(()=>{o.isShow=!0},10)},s=()=>{o.isShow=!1};return Ye(()=>t.dropdown,({x:l})=>{l+117>document.documentElement.clientWidth?o.arrowLeft=117-(document.documentElement.clientWidth-l):o.arrowLeft=10},{deep:!0}),Ie(()=>{document.body.addEventListener("click",s)}),gt(()=>{document.body.removeEventListener("click",s)}),{dropdowns:n,openContextmenu:r,closeContextmenu:s,onCurrentContextmenuClick:i,...fe(o)}}});const Ci={class:"el-dropdown-menu"},Si=["onClick"];function Ei(t,e,o,n,i,r){const s=_("SvgIcon");return w(),V(Gn,{name:"el-zoom-in-center"},{default:S(()=>[Ot((w(),$("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:mt(`top: ${t.dropdowns.y+5}px;left: ${t.dropdowns.x}px;`),key:Math.random()},[F("ul",Ci,[(w(!0),$(ae,null,Oe(t.dropdownList,(l,c)=>(w(),$(ae,null,[l.affix?j("",!0):(w(),$("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:c,onClick:a=>t.onCurrentContextmenuClick(l.contextMenuClickId)},[v(s,{name:l.icon},null,8,["name"]),F("span",null,B(t.$t(l.txt)),1)],8,Si))],64))),256))]),F("div",{class:"el-popper__arrow",style:mt({left:`${t.arrowLeft}px`})},null,4)],4)),[[Pt,t.isShow]])]),_:1})}const Ti=X(wi,[["render",Ei],["__scopeId","data-v-e57833a3"]]),Di={name:"layoutTagsView",components:{Contextmenu:Ti},setup(){const{proxy:t}=pe(),e=De([]),o=De(),n=De(),i=De(),r=ee(),s=ft(),l=Pe(),c=ot(),a=de({routeActive:"",routePath:l.path,dropdown:{x:"",y:""},tagsRefsIndex:0,tagsViewList:[],sortable:"",tagsViewRoutesList:[]}),d=O(()=>r.themeConfig.tagsStyle),u=O(()=>r.themeConfig),p=g=>u.value.isShareTagsView?g.path===a.routePath:g.url?g.url===a.routeActive:g.path===a.routeActive,f=g=>{Ge.set("tagsViewList",g)},m=async()=>{a.routeActive=await re(l),a.routePath=await l.meta.isDynamic?l.meta.isDynamicPath:l.path,a.tagsViewList=[],a.tagsViewRoutesList=s.tagsViewRoutes,b()},b=async()=>{Ge.get("tagsViewList")&&u.value.isCacheTagsView?a.tagsViewList=await Ge.get("tagsViewList"):(await a.tagsViewRoutesList.map(g=>{g.meta.isAffix&&!g.meta.isHide&&(g.url=re(g),a.tagsViewList.push({...g}))}),await I(l.path,l)),_e(u.value.isShareTagsView?a.routePath:a.routeActive)},x=async(g,h)=>{let E=h.meta.isDynamic?h.meta.isDynamicPath:g;if(a.tagsViewList.filter(q=>q.path===E&&Wt(h.meta.isDynamic?q.params?q.params:null:q.query?q.query:null,h.meta.isDynamic?h!=null&&h.params?h==null?void 0:h.params:null:h!=null&&h.query?h==null?void 0:h.query:null)).length<=0){let q=a.tagsViewRoutesList.find(me=>me.path===E);if(!q||q.meta.isAffix||q.meta.isLink&&!q.meta.isIframe)return!1;h.meta.isDynamic?q.params=h.params:q.query=h.query,q.url=re(q),a.tagsViewList.push({...q}),f(a.tagsViewList)}},P=(g,h)=>{let E=h.meta.isDynamic?h.meta.isDynamicPath:g;a.tagsViewList.forEach(C=>{C.path===E&&!Wt(h.meta.isDynamic?C.params?C.params:null:C.query?C.query:null,h.meta.isDynamic?h!=null&&h.params?h==null?void 0:h.params:null:h!=null&&h.query?h==null?void 0:h.query:null)&&(h.meta.isDynamic?C.params=h.params:C.query=h.query,C.url=re(C),f(a.tagsViewList))})},I=(g,h)=>{Ze(async()=>{let E="";if(h&&h.meta.isDynamic){if(u.value.isShareTagsView?await P(g,h):await x(g,h),a.tagsViewList.some(C=>C.path===h.meta.isDynamicPath))return!1;E=a.tagsViewRoutesList.find(C=>C.path===h.meta.isDynamicPath)}else{if(u.value.isShareTagsView?await P(g,h):await x(g,h),a.tagsViewList.some(C=>C.path===g))return!1;E=a.tagsViewRoutesList.find(C=>C.path===g)}if(!E||E.meta.isLink&&!E.meta.isIframe)return!1;h&&h.meta.isDynamic?E.params=h!=null&&h.params?h==null?void 0:h.params:l.params:E.query=h!=null&&h.query?h==null?void 0:h.query:l.query,E.url=re(E),await a.tagsViewList.push({...E}),await f(a.tagsViewList)})},D=g=>{t.mittBus.emit("onTagsViewRefreshRouterView",g)},T=g=>{a.tagsViewList.map((h,E,C)=>{h.meta.isAffix||(u.value.isShareTagsView?h.path===g:h.url===g)&&(a.tagsViewList.splice(E,1),setTimeout(()=>{(a.tagsViewList.length===E&&u.value.isShareTagsView?a.routePath===g:a.routeActive===g)?C[C.length-1].meta.isDynamic?E!==C.length?c.push({name:C[E].name,params:C[E].params}):c.push({name:C[C.length-1].name,params:C[C.length-1].params}):E!==C.length?c.push({path:C[E].path,query:C[E].query}):c.push({path:C[C.length-1].path,query:C[C.length-1].query}):(a.tagsViewList.length!==E&&u.value.isShareTagsView?a.routePath===g:a.routeActive===g)&&(C[E].meta.isDynamic?c.push({name:C[E].name,params:C[E].params}):c.push({path:C[E].path,query:C[E].query}))},0))}),f(a.tagsViewList)},H=g=>{a.tagsViewList=[],a.tagsViewRoutesList.map(h=>{h.meta.isAffix&&!h.meta.isHide&&a.tagsViewList.push({...h})}),I(g,l)},N=()=>{a.tagsViewList=[],a.tagsViewRoutesList.map(g=>{g.meta.isAffix&&!g.meta.isHide&&(a.tagsViewList.push({...g}),c.push({path:a.tagsViewList[a.tagsViewList.length-1].path}))}),f(a.tagsViewList)},ne=async g=>{const h=a.tagsViewList.find(E=>u.value.isShareTagsView?E.path===g:E.url===g);h.meta.isDynamic?await c.push({name:h.name,params:h.params}):await c.push({name:h.name,query:h.query}),s.setCurrenFullscreen(!0)},$e=(g,h)=>(Ge.get("tagsViewList")?Ge.get("tagsViewList"):a.tagsViewList).find(C=>{if(C.path===g&&Wt(C.meta.isDynamic?C.params?C.params:null:C.query?C.query:null,h&&Object.keys(h||{}).length>0?h:null))return C;if(C.path===g&&Object.keys(h||{}).length<=0)return C}),K=async g=>{const h=g.meta.isDynamic?g.params:g.query;if(!$e(g.path,h))return Dn({type:"warning",message:"请正确输入路径及完整参数（query、params）"});const{path:E,name:C,params:q,query:me,meta:yt,url:Xe}=$e(g.path,h);switch(g.contextMenuClickId){case 0:yt.isDynamic?await c.push({name:C,params:q}):await c.push({path:E,query:me}),D(l.fullPath);break;case 1:T(u.value.isShareTagsView?E:Xe);break;case 2:yt.isDynamic?await c.push({name:C,params:q}):await c.push({path:E,query:me}),H(E);break;case 3:N();break;case 4:ne(u.value.isShareTagsView?E:Xe);break}},Be=(g,h)=>{const{clientX:E,clientY:C}=h;a.dropdown.x=E,a.dropdown.y=C,n.value.openContextmenu(g)},ve=(g,h)=>{a.tagsRefsIndex=h,c.push(g)},re=g=>{let h=g.query&&Object.keys(g.query).length>0?g.query:g.params;if(!h||Object.keys(h).length<=0)return g.path;let E="";for(let C in h)E+=h[C];return`${g.meta.isDynamic?g.meta.isDynamicPath:g.path}-${E}`},ge=()=>{t.$refs.scrollbarRef.update()},Se=g=>{t.$refs.scrollbarRef.$refs.wrapRef.scrollLeft+=g.wheelDelta/4},He=()=>{Ze(()=>{if(e.value.length<=0)return!1;let g=e.value[a.tagsRefsIndex],h=a.tagsRefsIndex,E=e.value.length,C=e.value[0],q=e.value[e.value.length-1],me=t.$refs.scrollbarRef.$refs.wrapRef,yt=me.scrollWidth,Xe=me.offsetWidth,cn=me.scrollLeft,zt=e.value[a.tagsRefsIndex-1],un=e.value[a.tagsRefsIndex+1],vt="",wt="";g===C?me.scrollLeft=0:g===q?me.scrollLeft=yt-Xe:(h===0?vt=C.offsetLeft-5:vt=(zt==null?void 0:zt.offsetLeft)-5,h===E?wt=q.offsetLeft+q.offsetWidth+5:wt=un.offsetLeft+un.offsetWidth+5,wt>cn+Xe?me.scrollLeft=wt-Xe:vt<cn&&(me.scrollLeft=vt)),ge()})},_e=g=>{Ze(async()=>{let h=await a.tagsViewList;a.tagsRefsIndex=h.findIndex(E=>u.value.isShareTagsView?E.path===g:E.url===g),He()})},Fe=async()=>{const g=document.querySelector(".layout-navbars-tagsview-ul");if(!g)return!1;a.sortable.el&&a.sortable.destroy(),a.sortable=k.create(g,{animation:300,dataIdAttr:"data-url",disabled:!u.value.isSortableTagsView,onEnd:()=>{const h=[];a.sortable.toArray().map(E=>{a.tagsViewList.map(C=>{C.url===E&&h.push({...C})})}),f(h)}})},Ee=async()=>{await Fe(),Ln.isMobile()&&a.sortable.el&&a.sortable.destroy()};return pt(()=>{Ee(),window.addEventListener("resize",Ee),t.mittBus.on("onCurrentContextmenuClick",g=>{K(g)}),t.mittBus.on("openOrCloseSortable",()=>{Fe()}),t.mittBus.on("openShareTagsView",()=>{u.value.isShareTagsView&&(c.push("/home"),a.tagsViewList=[],a.tagsViewRoutesList.map(g=>{g.meta.isAffix&&!g.meta.isHide&&(g.url=re(g),a.tagsViewList.push({...g}))}))})}),gt(()=>{t.mittBus.off("onCurrentContextmenuClick"),t.mittBus.off("openOrCloseSortable"),t.mittBus.off("openShareTagsView"),window.removeEventListener("resize",Ee)}),Qn(()=>{e.value=[]}),Ie(()=>{m(),Fe()}),nt(async g=>{a.routeActive=re(g),a.routePath=g.meta.isDynamic?g.meta.isDynamicPath:g.path,await I(g.path,g),_e(u.value.isShareTagsView?a.routePath:a.routeActive)}),s.$subscribe((g,h)=>{if(h.tagsViewRoutes.length===a.tagsViewRoutesList.length)return!1;m()}),Ye(ft,g=>{if(g.tagsViewRoutes.length===a.tagsViewRoutesList.length)return!1;m()},{deep:!0}),{isActive:p,onContextmenu:Be,getTagsViewRoutes:m,onTagsClick:ve,tagsRefs:e,contextmenuRef:n,scrollbarRef:o,tagsUlRef:i,onHandleScroll:Se,getThemeConfig:u,setTagsStyle:d,refreshCurrentTagsView:D,closeCurrentTagsView:T,onCurrentContextmenuClick:K,...fe(a)}}};const Li=["data-url","onContextmenu","onClick"],ki={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont font14"};function xi(t,e,o,n,i,r){const s=_("SvgIcon"),l=_("el-scrollbar"),c=_("Contextmenu");return w(),$("div",{class:se(["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":n.getThemeConfig.layout==="classic"}])},[v(l,{ref:"scrollbarRef",onWheel:qe(n.onHandleScroll,["prevent"])},{default:S(()=>[F("ul",{class:se(["layout-navbars-tagsview-ul",n.setTagsStyle]),ref:"tagsUlRef"},[(w(!0),$(ae,null,Oe(t.tagsViewList,(a,d)=>(w(),$("li",{key:d,class:se(["layout-navbars-tagsview-ul-li",{"is-active":n.isActive(a)}]),"data-url":a.url,onContextmenu:qe(u=>n.onContextmenu(a,u),["prevent"]),onClick:u=>n.onTagsClick(a,d),ref_for:!0,ref:u=>{u&&(n.tagsRefs[d]=u)}},[n.isActive(a)?(w(),$("i",ki)):j("",!0),!n.isActive(a)&&n.getThemeConfig.isTagsviewIcon?(w(),V(s,{key:1,name:a.meta.icon,class:"pr5"},null,8,["name"])):j("",!0),F("span",null,B(t.$t(a.meta.title)),1),n.isActive(a)?(w(),$(ae,{key:2},[v(s,{name:"elementRefreshRight",size:13,class:"ml5 layout-navbars-tagsview-ul-li-refresh",onClick:e[0]||(e[0]=qe(u=>n.refreshCurrentTagsView(t.$route.fullPath),["stop"]))}),a.meta.isAffix?j("",!0):(w(),V(s,{key:0,name:"elementClose",size:13,class:"layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:qe(u=>n.closeCurrentTagsView(n.getThemeConfig.isShareTagsView?a.path:a.url),["stop"])},null,8,["onClick"]))],64)):j("",!0),a.meta.isAffix?j("",!0):(w(),V(s,{key:3,name:"elementClose",size:13,class:"layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:qe(u=>n.closeCurrentTagsView(n.getThemeConfig.isShareTagsView?a.path:a.url),["stop"])},null,8,["onClick"]))],42,Li))),128))],2)]),_:1},8,["onWheel"]),v(c,{dropdown:t.dropdown,ref:"contextmenuRef",onCurrentContextmenuClick:n.onCurrentContextmenuClick},null,8,["dropdown","onCurrentContextmenuClick"])],2)}const qn=X(Di,[["render",xi],["__scopeId","data-v-733b66a7"]]),Ii={name:"layoutNavBars",components:{BreadcrumbIndex:Go,TagsView:qn},setup(){const t=ee();return{setShowTagsView:O(()=>{let{layout:o,isTagsview:n}=t.themeConfig;return o!=="classic"&&n})}}};const Ai={class:"layout-navbars-container"};function $i(t,e,o,n,i,r){const s=_("BreadcrumbIndex"),l=_("TagsView");return w(),$("div",Ai,[v(s),n.setShowTagsView?(w(),V(l,{key:0})):j("",!0)])}const Fi=X(Ii,[["render",$i],["__scopeId","data-v-7ce13cd1"]]),Ri={name:"layoutHeader",components:{NavBarsIndex:Fi},setup(){const t=ee(),e=ft(),o=O(()=>{let{isTagsview:i,layout:r}=t.themeConfig;return i&&r!=="classic"?"84px":"50px"}),n=O(()=>e.isTagsViewCurrenFull);return{setHeaderHeight:o,isTagsViewCurrenFull:n}}};function Mi(t,e,o,n,i,r){const s=_("NavBarsIndex"),l=_("el-header");return Ot((w(),V(l,{class:"layout-header",height:n.setHeaderHeight},{default:S(()=>[v(s)]),_:1},8,["height"])),[[Pt,!n.isTagsViewCurrenFull]])}const Ht=X(Ri,[["render",Mi]]),Vi={name:"layoutFooter",setup(){const t=de({isDelayFooter:!0});return nt(()=>{t.isDelayFooter=!1,setTimeout(()=>{t.isDelayFooter=!0},800)}),{...fe(t)}}};const Oi={class:"layout-footer mt15"},Pi={class:"layout-footer-warp"},Bi={class:"mt5"};function Hi(t,e,o,n,i,r){return Ot((w(),$("div",Oi,[F("div",Pi,[e[0]||(e[0]=F("div",null,"PaoPao-Admin，Made by PaoPao with ❤️",-1)),F("div",Bi,B(t.$t("message.copyright.one5")),1)])],512)),[[Pt,t.isDelayFooter]])}const Ni=X(Vi,[["render",Hi],["__scopeId","data-v-5d2783b2"]]),zi=tt({name:"layoutMain",components:{LayoutParentView:Zn,Footer:Ni},setup(){const{proxy:t}=pe(),e=Pe(),o=ee(),n=de({headerHeight:"",currentRouteMeta:{}}),i=O(()=>o.themeConfig),r=()=>{let{isTagsview:c}=o.themeConfig;return c?n.headerHeight="84px":n.headerHeight="50px"},s=()=>{n.currentRouteMeta=e.meta},l=()=>{t.mittBus.emit("openSetingsDrawer")};return pt(()=>{r(),s()}),Ye(o.themeConfig,c=>{if(n.headerHeight=c.isTagsview?"84px":"50px",c.isFixedHeaderChange!==c.isFixedHeader){if(!t.$refs.layoutScrollbarRef)return!1;t.$refs.layoutScrollbarRef.update()}}),Ye(()=>e.path,()=>{n.currentRouteMeta=e.meta}),{getThemeConfig:i,showSettingDrawer:l,...fe(n)}}});function Wi(t,e,o,n,i,r){const s=_("SvgIcon"),l=_("el-button"),c=_("LayoutParentView"),a=_("Footer"),d=_("el-scrollbar"),u=_("el-main");return w(),V(u,{class:"layout-main"},{default:S(()=>[v(l,{type:"primary",color:"#626aef",class:"drawer-container",onClick:t.showSettingDrawer},{default:S(()=>[v(s,{name:"elementSetting"})]),_:1},8,["onClick"]),v(d,{class:"layout-scrollbar",ref:"layoutScrollbarRef",style:mt({minHeight:`calc(100vh - ${t.headerHeight})`,padding:t.currentRouteMeta.isLink&&t.currentRouteMeta.isIframe?0:"",transition:"padding 0.3s ease-in-out"})},{default:S(()=>[v(c),t.getThemeConfig.isFooter?(w(),V(a,{key:0})):j("",!0)]),_:1},8,["style"])]),_:1})}const Nt=X(zi,[["render",Wi],["__scopeId","data-v-fd57c582"]]),qi={name:"layoutDefaults",components:{Aside:on,Header:Ht,Main:Nt},setup(){const{proxy:t}=pe(),e=Pe(),o=ee();De();const n=O(()=>o.themeConfig.isFixedHeader);return Ye(()=>e.path,()=>{t.$refs.layoutDefaultsScrollbarRef.wrapRef.scrollTop=0}),{isFixedHeader:n}}};function Yi(t,e,o,n,i,r){const s=_("Aside"),l=_("Header"),c=_("Main"),a=_("el-scrollbar"),d=_("el-container"),u=_("el-backtop");return w(),V(d,{class:"layout-container"},{default:S(()=>[v(s),v(d,{class:se(["flex-center",{"layout-backtop":!n.isFixedHeader}])},{default:S(()=>[n.isFixedHeader?(w(),V(l,{key:0})):j("",!0),v(a,{ref:"layoutDefaultsScrollbarRef",class:se({"layout-backtop":n.isFixedHeader})},{default:S(()=>[n.isFixedHeader?j("",!0):(w(),V(l,{key:0})),v(c)]),_:1},8,["class"])]),_:1},8,["class"]),v(u,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}const Xi=X(qi,[["render",Yi]]),ji={name:"layoutClassic",components:{Aside:on,Header:Ht,Main:Nt,TagsView:qn},setup(){const t=ee();return{getThemeConfig:O(()=>t.themeConfig)}}},Ui={class:"flex-center layout-backtop"};function Gi(t,e,o,n,i,r){const s=_("Header"),l=_("Aside"),c=_("TagsView"),a=_("Main"),d=_("el-container"),u=_("el-backtop");return w(),V(d,{class:"layout-container flex-center"},{default:S(()=>[v(s),v(d,{class:"layout-mian-height-50"},{default:S(()=>[v(l),F("div",Ui,[n.getThemeConfig.isTagsview?(w(),V(c,{key:0})):j("",!0),v(a)])]),_:1}),v(u,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}const Qi=X(ji,[["render",Gi]]),Ki={name:"layoutTransverse",components:{Header:Ht,Main:Nt}};function Zi(t,e,o,n,i,r){const s=_("Header"),l=_("Main"),c=_("el-backtop"),a=_("el-container");return w(),V(a,{class:"layout-container flex-center layout-backtop"},{default:S(()=>[v(s),v(l),v(c,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}const Ji=X(Ki,[["render",Zi]]),es={name:"layoutColumnsAside",setup(){const t=De([]),e=De(),{proxy:o}=pe(),n=ee(),i=ht(),r=Pe(),s=ot(),l=de({columnsAsideList:[],liIndex:0,liOldIndex:null,liHoverIndex:null,liOldPath:null,difference:0,routeSplit:[],isNavHover:!1}),c=O(()=>n.themeConfig.columnsAsideStyle),a=O(()=>n.themeConfig.columnsAsideLayout),d=D=>{l.liIndex=D,e.value.style.top=`${t.value[D].offsetTop+l.difference}px`},u=(D,T)=>{d(T);let{path:H,redirect:N,children:ne}=D;N?s.push(N):ne?s.push(ne[0]):s.push(H)},p=(D,T)=>{let{path:H}=D;l.liOldPath=H,l.liOldIndex=T,l.liHoverIndex=T,o.mittBus.emit("setSendColumnsChildren",x(H)),i.setColumnsMenuHover(!1),i.setColumnsNavHover(!0),l.isNavHover=!0},f=async()=>{await i.setColumnsNavHover(!1),setTimeout(()=>{const{isColumnsMenuHover:D,isColumnsNavHover:T}=i;!D&&!T&&o.mittBus.emit("restoreDefault")},100)},m=D=>{Ze(()=>{d(D)})},b=()=>{l.columnsAsideList=P(i.routesList);const D=x(r.path);if(Object.keys(D).length<=0)return!1;m(D.item[0].k),o.mittBus.emit("setSendColumnsChildren",D)},x=D=>{const T=D.split("/");let H={};return l.columnsAsideList.map((N,ne)=>{N.path===`/${T[1]}`&&(N.k=ne,H.item=[{...N}],H.children=[{...N}],N.children&&(H.children=N.children))}),H},P=D=>D.filter(T=>!T.meta.isHide).map(T=>(T=Object.assign({},T),T.children&&(T.children=P(T.children)),T)),I=D=>{l.routeSplit=D.split("/"),l.routeSplit.shift();const T=`/${l.routeSplit[0]}`,H=l.columnsAsideList.find(N=>N.path===T);if(!H)return!1;setTimeout(()=>{m(H.k)},0)};return n.$subscribe((D,T)=>{T.themeConfig.columnsAsideStyle==="columnsRound"?l.difference=3:l.difference=0}),i.$subscribe((D,T)=>{if(!T.isColumnsMenuHover&&!T.isColumnsNavHover)l.liHoverIndex=null,o.mittBus.emit("setSendColumnsChildren",x(r.path));else{if(l.liHoverIndex=l.liOldIndex,!l.liOldPath)return!1;o.mittBus.emit("setSendColumnsChildren",x(l.liOldPath))}}),Ie(()=>{b(),o.mittBus.on("restoreDefault",()=>{l.liOldIndex=null,l.liOldPath=null})}),gt(()=>{o.mittBus.off("restoreDefault",()=>{})}),nt(D=>{I(D.path),o.mittBus.emit("setSendColumnsChildren",x(D.path))}),{columnsAsideOffsetTopRefs:t,columnsAsideActiveRef:e,onColumnsAsideDown:m,setColumnsAsideStyle:c,setColumnsAsidelayout:a,onColumnsAsideMenuClick:u,onColumnsAsideMenuMouseenter:p,onColumnsAsideMenuMouseleave:f,...fe(l)}}};const ts={class:"layout-columns-aside"},ns=["onClick","onMouseenter","title"],os={class:"columns-vertical-title font12"},is=["href"],ss={class:"columns-vertical-title font12"};function as(t,e,o,n,i,r){const s=_("SvgIcon"),l=_("el-scrollbar");return w(),$("div",ts,[v(l,null,{default:S(()=>[F("ul",{onMouseleave:e[0]||(e[0]=c=>n.onColumnsAsideMenuMouseleave())},[(w(!0),$(ae,null,Oe(t.columnsAsideList,(c,a)=>(w(),$("li",{key:a,onClick:d=>n.onColumnsAsideMenuClick(c,a),onMouseenter:d=>n.onColumnsAsideMenuMouseenter(c,a),ref_for:!0,ref:d=>{d&&(n.columnsAsideOffsetTopRefs[a]=d)},class:se({"layout-columns-active":t.liIndex===a,"layout-columns-hover":t.liHoverIndex===a}),title:t.$t(c.meta.title)},[!c.meta.isLink||c.meta.isLink&&c.meta.isIframe?(w(),$("div",{key:0,class:se(n.setColumnsAsidelayout)},[v(s,{name:c.meta.icon},null,8,["name"]),F("div",os,B(t.$t(c.meta.title)&&t.$t(c.meta.title).length>=4?t.$t(c.meta.title).substr(0,n.setColumnsAsidelayout==="columns-vertical"?4:3):t.$t(c.meta.title)),1)],2)):(w(),$("div",{key:1,class:se(n.setColumnsAsidelayout)},[F("a",{href:c.meta.isLink,target:"_blank"},[v(s,{name:c.meta.icon},null,8,["name"]),F("div",ss,B(t.$t(c.meta.title)&&t.$t(c.meta.title).length>=4?t.$t(c.meta.title).substr(0,n.setColumnsAsidelayout==="columns-vertical"?4:3):t.$t(c.meta.title)),1)],8,is)],2))],42,ns))),128)),F("div",{ref:"columnsAsideActiveRef",class:se(n.setColumnsAsideStyle)},null,2)],32)]),_:1})])}const rs=X(es,[["render",as],["__scopeId","data-v-2d1b54a5"]]),ls={name:"layoutColumns",components:{Aside:on,Header:Ht,Main:Nt,ColumnsAside:rs},setup(){const t=ee();return{isFixedHeader:O(()=>t.themeConfig.isFixedHeader)}}},cs={class:"layout-columns-warp"};function us(t,e,o,n,i,r){const s=_("ColumnsAside"),l=_("Aside"),c=_("Header"),a=_("Main"),d=_("el-scrollbar"),u=_("el-container"),p=_("el-backtop");return w(),V(u,{class:"layout-container"},{default:S(()=>[v(s),F("div",cs,[v(l),v(u,{class:se(["flex-center layout-backtop",{"layout-backtop":!n.isFixedHeader}])},{default:S(()=>[n.isFixedHeader?(w(),V(c,{key:0})):j("",!0),v(d,{class:se({"layout-backtop":n.isFixedHeader})},{default:S(()=>[n.isFixedHeader?j("",!0):(w(),V(c,{key:0})),v(a)]),_:1},8,["class"])]),_:1},8,["class"])]),v(p,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}const ds=X(ls,[["render",us]]),fs={name:"layout",components:{Defaults:Xi,Classic:Qi,Transverse:Ji,Columns:ds},setup(){const{proxy:t}=pe(),e=ee(),o=O(()=>e.themeConfig),n=()=>{Te.get("oldLayout")||Te.set("oldLayout",o.value.layout);const i=document.body.clientWidth;i<1e3?(o.value.isCollapse=!1,t.mittBus.emit("layoutMobileResize",{layout:"defaults",clientWidth:i})):t.mittBus.emit("layoutMobileResize",{layout:Te.get("oldLayout")?Te.get("oldLayout"):o.value.layout,clientWidth:i})};return pt(()=>{n(),window.addEventListener("resize",n),dn.initWebSocket()}),gt(()=>{window.removeEventListener("resize",n),dn.closeWebsocket()}),{getThemeConfig:o}}};function ms(t,e,o,n,i,r){const s=_("Defaults"),l=_("Classic"),c=_("Transverse"),a=_("Columns");return n.getThemeConfig.layout==="defaults"?(w(),V(s,{key:0})):n.getThemeConfig.layout==="classic"?(w(),V(l,{key:1})):n.getThemeConfig.layout==="transverse"?(w(),V(c,{key:2})):n.getThemeConfig.layout==="columns"?(w(),V(a,{key:3})):j("",!0)}const _s=X(fs,[["render",ms]]);export{_s as default};
