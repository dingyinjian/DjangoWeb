import{X as c,d as O,g as N,I as B,k as U,r as s,a4 as q,o as m,a as g,h as l,w as o,y as R,i as p,t as b,b as I,F as j,e as z,a0 as J,N as F,f as T,_ as L}from"./index.1764234947110.js";function Y(r){return c({url:"/system/example/",method:"get",params:r})}function P(r){return c({url:"/system/example/",method:"post",data:r})}function W(r){return c({url:"/system/example/"+r.id+"/",method:"put",data:r})}function Z(r){return c({url:"/system/example/"+r+"/",method:"delete"})}const X={class:"system-example-container"},A={style:{"font-size":"large"}},G={class:"dialog-footer"},H=O({__name:"editModule",props:{title:{type:String,default:()=>""}},setup(r,{expose:V}){const{proxy:f}=N(),y=B(null),e=U({isShowDialog:!1,loading:!1,ruleForm:{id:0,title:"",content:"",category:"",status:"0"},statusOptions:[],ruleRules:{title:[{required:!0,message:"标题不能为空",trigger:"blur"},{min:1,max:100,message:"标题长度在 1 到 100 个字符",trigger:"blur"}],content:[{required:!0,message:"内容不能为空",trigger:"blur"}],category:[{required:!0,message:"分类不能为空",trigger:"blur"}],status:[{required:!0,message:"状态不能为空",trigger:"blur"}]}}),v=n=>{e.ruleForm=JSON.parse(JSON.stringify(n)),e.ruleForm.id||(e.ruleForm.status="0"),e.isShowDialog=!0,e.loading=!1,f.getDicts("sys_yes_no").then(t=>{e.statusOptions=t.data.data})},_=n=>{f.mittBus.emit("onEditExampleModule",n),e.isShowDialog=!1},h=()=>{_()},w=()=>{const n=J(y);n&&n.validate(t=>{t&&(e.loading=!0,e.ruleForm.id!=null&&e.ruleForm.id!=0?W(e.ruleForm).then(u=>{F.success("修改成功"),e.loading=!1,_(e.ruleForm)}).catch(()=>{e.loading=!1}):P(e.ruleForm).then(u=>{F.success("新增成功"),e.loading=!1,_(e.ruleForm)}).catch(()=>{e.loading=!1}))})};return V({openDialog:v}),(n,t)=>{const u=s("el-input"),d=s("el-form-item"),i=s("el-col"),S=s("el-radio"),D=s("el-radio-group"),E=s("el-row"),k=s("el-form"),x=s("el-button"),C=s("el-dialog"),M=q("drag");return m(),g("div",X,[l(C,{modelValue:e.isShowDialog,"onUpdate:modelValue":t[4]||(t[4]=a=>e.isShowDialog=a),width:"769px",center:""},{header:o(()=>[R((m(),g("div",A,[p(b(r.title),1)])),[[M,[".system-example-container .el-dialog",".system-example-container .el-dialog__header"]]])]),footer:o(()=>[I("span",G,[l(x,{onClick:h},{default:o(()=>t[5]||(t[5]=[p("取 消")])),_:1}),l(x,{type:"primary",onClick:w,loading:e.loading},{default:o(()=>t[6]||(t[6]=[p("保 存")])),_:1},8,["loading"])])]),default:o(()=>[l(k,{model:e.ruleForm,rules:e.ruleRules,ref_key:"ruleFormRef",ref:y,"label-width":"80px"},{default:o(()=>[l(E,{gutter:30},{default:o(()=>[l(i,{span:24},{default:o(()=>[l(d,{label:"标题",prop:"title"},{default:o(()=>[l(u,{modelValue:e.ruleForm.title,"onUpdate:modelValue":t[0]||(t[0]=a=>e.ruleForm.title=a),placeholder:"请输入标题",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{span:24},{default:o(()=>[l(d,{label:"内容",prop:"content"},{default:o(()=>[l(u,{modelValue:e.ruleForm.content,"onUpdate:modelValue":t[1]||(t[1]=a=>e.ruleForm.content=a),type:"textarea",rows:4,placeholder:"请输入内容",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[l(d,{label:"分类",prop:"category"},{default:o(()=>[l(u,{modelValue:e.ruleForm.category,"onUpdate:modelValue":t[2]||(t[2]=a=>e.ruleForm.category=a),placeholder:"请输入分类",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[l(d,{label:"状态",prop:"status"},{default:o(()=>[l(D,{modelValue:e.ruleForm.status,"onUpdate:modelValue":t[3]||(t[3]=a=>e.ruleForm.status=a)},{default:o(()=>[(m(!0),g(j,null,z(e.statusOptions,a=>(m(),T(S,{key:a.dict_value,label:a.dict_value},{default:o(()=>[p(b(a.dict_label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}});const K=L(H,[["__scopeId","data-v-7e8a2fa5"]]),$=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"}));export{K as E,Z as d,$ as e,Y as l};
