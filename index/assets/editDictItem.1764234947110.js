import{g as k,I as C,k as E,p as S,a0 as w,an as U,N as b,ao as N,_ as L,r as s,a4 as O,o as p,a as g,h as r,w as u,y as R,i as c,t as V,b as h,F as I,e as q,f as M}from"./index.1764234947110.js";const J={name:"editMenu",props:{title:{type:String,default:()=>""}},setup(){const{proxy:o}=k(),l=C(null),e=E({isShowDialog:!1,loading:!1,ruleForm:{id:0,dict_type:"",dict_label:"",dict_value:"",sort:0,status:"",remark:""},statusOptions:[{dictValue:"0",dictLabel:"正常"},{dictValue:"1",dictLabel:"禁用"}],deptOptions:[],ruleRules:{dict_label:[{required:!0,message:"数据标签不能为空",trigger:"blur"}],dict_value:[{required:!0,message:"数据键值不能为空",trigger:"blur"}],sort:[{required:!0,message:"数据顺序不能为空",trigger:"blur"}]}}),m=a=>{e.ruleForm=JSON.parse(JSON.stringify(a)),e.ruleForm.dict_type=a.dict_type,e.isShowDialog=!0,e.loading=!1},n=a=>{o.mittBus.emit("onEditDictItemModule",a),e.isShowDialog=!1};return{ruleFormRef:l,openDialog:m,closeDialog:n,onCancel:()=>{n()},initForm:()=>{e.ruleForm.id=0,e.ruleForm.dict_label="",e.ruleForm.dict_value="",e.ruleForm.sort=0,e.ruleForm.dict_type="",e.ruleForm.status="0",e.ruleForm.remark=""},onSubmit:()=>{const a=w(l);a&&a.validate(f=>{f&&(e.loading=!0,e.ruleForm.id!=null&&e.ruleForm.id!=0?U(e.ruleForm).then(F=>{b.success("修改成功"),e.loading=!1,n(e.ruleForm)}):N(e.ruleForm).then(F=>{b.success("新增成功"),e.loading=!1,n(e.ruleForm)}))})},...S(e)}}},z={class:"system-menu-container"},A={style:{"font-size":"large"}},T={class:"dialog-footer"};function W(o,l,e,m,n,y){const d=s("el-input"),i=s("el-form-item"),a=s("el-input-number"),f=s("el-radio"),F=s("el-radio-group"),B=s("el-form"),_=s("el-button"),D=s("el-dialog"),v=O("drag");return p(),g("div",z,[r(D,{modelValue:o.isShowDialog,"onUpdate:modelValue":l[6]||(l[6]=t=>o.isShowDialog=t),width:"769px",center:""},{header:u(()=>[R((p(),g("div",A,[c(V(e.title),1)])),[[v,[".system-menu-container .el-dialog",".system-menu-container .el-dialog__header"]]])]),footer:u(()=>[h("span",T,[r(_,{onClick:m.onCancel},{default:u(()=>l[7]||(l[7]=[c("取 消")])),_:1},8,["onClick"]),r(_,{type:"primary",onClick:m.onSubmit,loading:o.loading},{default:u(()=>l[8]||(l[8]=[c("编 辑")])),_:1},8,["onClick","loading"])])]),default:u(()=>[r(B,{model:o.ruleForm,rules:o.ruleRules,ref:"ruleFormRef","label-width":"80px"},{default:u(()=>[r(i,{label:"字典类型"},{default:u(()=>[r(d,{modelValue:o.ruleForm.dict_type,"onUpdate:modelValue":l[0]||(l[0]=t=>o.ruleForm.dict_type=t),disabled:!0},null,8,["modelValue"])]),_:1}),r(i,{label:"数据标签",prop:"dictLabel"},{default:u(()=>[r(d,{modelValue:o.ruleForm.dict_label,"onUpdate:modelValue":l[1]||(l[1]=t=>o.ruleForm.dict_label=t),placeholder:"请输入数据标签"},null,8,["modelValue"])]),_:1}),r(i,{label:"数据键值",prop:"dictValue"},{default:u(()=>[r(d,{modelValue:o.ruleForm.dict_value,"onUpdate:modelValue":l[2]||(l[2]=t=>o.ruleForm.dict_value=t),placeholder:"请输入数据键值"},null,8,["modelValue"])]),_:1}),r(i,{label:"显示排序",prop:"dictSort"},{default:u(()=>[r(a,{modelValue:o.ruleForm.sort,"onUpdate:modelValue":l[3]||(l[3]=t=>o.ruleForm.sort=t),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1}),r(i,{label:"状态",prop:"status"},{default:u(()=>[r(F,{modelValue:o.ruleForm.status,"onUpdate:modelValue":l[4]||(l[4]=t=>o.ruleForm.status=t)},{default:u(()=>[(p(!0),g(I,null,q(o.statusOptions,t=>(p(),M(f,{key:t.dictValue,label:t.dictValue},{default:u(()=>[c(V(t.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(i,{label:"备注",prop:"remark"},{default:u(()=>[r(d,{modelValue:o.ruleForm.remark,"onUpdate:modelValue":l[5]||(l[5]=t=>o.ruleForm.remark=t),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}const j=L(J,[["render",W]]);export{j as default};
