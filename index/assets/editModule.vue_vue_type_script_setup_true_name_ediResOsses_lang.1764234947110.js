import{X as c,d as D,g as B,I as E,k as L,r as n,a4 as J,o as m,a as f,h as l,w as r,y as M,i as p,t as F,b as z,F as O,e as C,f as _,A as I,a0 as A,N as w}from"./index.1764234947110.js";function Q(s){return c({url:"/resource/oss/list",method:"get",params:s})}function T(s){return c({url:"/resource/oss",method:"post",data:s})}function W(s){return c({url:"/resource/oss",method:"put",data:s})}function Y(s){return c({url:"/resource/oss/"+s,method:"delete"})}function Z(s){return c({url:"/resource/oss/changeStatus",method:"put",data:s})}const X={class:"system-menu-container"},j={style:{"font-size":"large"}},G={class:"dialog-footer"},H=D({name:"ediResOsses"}),$=D({...H,props:{title:{type:String,default:()=>""}},setup(s,{expose:N}){const{proxy:y}=B(),b=E(),e=L({isShowDialog:!1,loading:!1,ruleForm:{ossId:0,category:"",appId:"",accessKey:"",secretKey:"",bucketName:"",endpoint:"",ossCode:"",region:"",remark:"",status:"0"},statusOptions:[],ossOptions:[],ruleRules:{category:[{required:!0,message:"分类不能为空",trigger:"blur"}],ossCode:[{required:!0,message:"资源编号不能为空",trigger:"blur"}],appId:[{required:!0,message:"appId不能为空",trigger:"blur"}],accessKey:[{required:!0,message:"accessKey不能为空",trigger:"blur"}],secretKey:[{required:!0,message:"secretKey不能为空",trigger:"blur"}],bucketName:[{required:!0,message:"空间名称不能为空",trigger:"blur"}],endpoint:[{required:!0,message:"oss地址不能为空",trigger:"blur"}]}}),S=i=>{e.ruleForm=JSON.parse(JSON.stringify(i)),e.isShowDialog=!0,e.loading=!1,y.getDicts("sys_normal_disable").then(o=>{e.statusOptions=o.data}),y.getDicts("res_oss_category").then(o=>{e.ossOptions=o.data})},V=i=>{y.mittBus.emit("onEditResOssesModule",i),e.isShowDialog=!1},v=()=>{V()},U=()=>{const i=A(b);i&&i.validate(o=>{o&&(e.loading=!0,e.ruleForm.ossId!=null&&e.ruleForm.ossId!=0?W(e.ruleForm).then(g=>{w.success("修改成功"),e.loading=!1,V(e.ruleForm)}):T(e.ruleForm).then(g=>{w.success("新增成功"),e.loading=!1,V(e.ruleForm)}))})};return N({openDialog:S}),(i,o)=>{const g=n("el-radio"),k=n("el-radio-group"),a=n("el-form-item"),u=n("el-col"),d=n("el-input"),R=n("el-row"),h=n("el-form"),K=n("el-button"),x=n("el-dialog"),q=J("drag");return m(),f("div",X,[l(x,{modelValue:e.isShowDialog,"onUpdate:modelValue":o[10]||(o[10]=t=>e.isShowDialog=t),width:"769px",center:""},{header:r(()=>[M((m(),f("div",j,[p(F(s.title),1)])),[[q,[".system-menu-container .el-dialog",".system-menu-container .el-dialog__header"]]])]),footer:r(()=>[z("span",G,[l(K,{onClick:v},{default:r(()=>o[11]||(o[11]=[p("取 消")])),_:1}),l(K,{type:"primary",onClick:U,loading:e.loading},{default:r(()=>o[12]||(o[12]=[p("编 辑")])),_:1},8,["loading"])])]),default:r(()=>[l(h,{model:e.ruleForm,rules:e.ruleRules,ref_key:"ruleFormRef",ref:b,"label-width":"100px"},{default:r(()=>[l(R,{gutter:35},{default:r(()=>[l(u,{span:24},{default:r(()=>[l(a,{label:"Oss分类",prop:"category"},{default:r(()=>[l(k,{modelValue:e.ruleForm.category,"onUpdate:modelValue":o[0]||(o[0]=t=>e.ruleForm.category=t)},{default:r(()=>[(m(!0),f(O,null,C(e.ossOptions,t=>(m(),_(g,{key:t.dictValue,label:t.dictValue},{default:r(()=>[p(F(t.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(u,{span:24},{default:r(()=>[l(a,{label:"资源编号",prop:"ossCode"},{default:r(()=>[l(d,{modelValue:e.ruleForm.ossCode,"onUpdate:modelValue":o[1]||(o[1]=t=>e.ruleForm.ossCode=t),placeholder:"请输入资源编号"},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{span:24},{default:r(()=>[l(a,{label:"资源地址",prop:"endpoint"},{default:r(()=>[l(d,{modelValue:e.ruleForm.endpoint,"onUpdate:modelValue":o[2]||(o[2]=t=>e.ruleForm.endpoint=t),placeholder:"请输入资源地址"},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{span:24},{default:r(()=>[l(a,{label:"空间名",prop:"bucketName"},{default:r(()=>[l(d,{modelValue:e.ruleForm.bucketName,"onUpdate:modelValue":o[3]||(o[3]=t=>e.ruleForm.bucketName=t),placeholder:"请输入空间名"},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{span:24},{default:r(()=>[l(a,{label:"accessKey",prop:"accessKey"},{default:r(()=>[l(d,{modelValue:e.ruleForm.accessKey,"onUpdate:modelValue":o[4]||(o[4]=t=>e.ruleForm.accessKey=t),placeholder:"请输入accessKey"},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{span:24},{default:r(()=>[l(a,{label:"secretKey",prop:"secretKey"},{default:r(()=>[l(d,{modelValue:e.ruleForm.secretKey,"onUpdate:modelValue":o[5]||(o[5]=t=>e.ruleForm.secretKey=t),placeholder:"请输入secretKey"},null,8,["modelValue"])]),_:1})]),_:1}),e.ruleForm.category=="2"?(m(),_(u,{key:0,span:24},{default:r(()=>[l(a,{label:"appId",prop:"appId"},{default:r(()=>[l(d,{modelValue:e.ruleForm.appId,"onUpdate:modelValue":o[6]||(o[6]=t=>e.ruleForm.appId=t),placeholder:"请输入appId"},null,8,["modelValue"])]),_:1})]),_:1})):I("",!0),e.ruleForm.category=="2"?(m(),_(u,{key:1,span:24},{default:r(()=>[l(a,{label:"region",prop:"region"},{default:r(()=>[l(d,{modelValue:e.ruleForm.region,"onUpdate:modelValue":o[7]||(o[7]=t=>e.ruleForm.region=t),placeholder:"请输入岗位名称"},null,8,["modelValue"])]),_:1})]),_:1})):I("",!0),l(u,{span:24},{default:r(()=>[l(a,{label:"状态",prop:"status"},{default:r(()=>[l(k,{modelValue:e.ruleForm.status,"onUpdate:modelValue":o[8]||(o[8]=t=>e.ruleForm.status=t)},{default:r(()=>[(m(!0),f(O,null,C(e.statusOptions,t=>(m(),_(g,{key:t.dictValue,label:t.dictValue},{default:r(()=>[p(F(t.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(u,{span:24},{default:r(()=>[l(a,{label:"备注",prop:"remark"},{default:r(()=>[l(d,{modelValue:e.ruleForm.remark,"onUpdate:modelValue":o[9]||(o[9]=t=>e.ruleForm.remark=t),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}});export{$ as _,Z as c,Y as d,Q as l};
